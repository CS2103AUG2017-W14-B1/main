<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.3">
<title>iContacts - Developer Guide</title>
<link rel="stylesheet" href="stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
<link rel="stylesheet" href="stylesheets/coderay-asciidoctor.css">
</head>
<body class="article">
<div id="header">
<h1>iContacts - Developer Guide</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>By: <code>Team W14-B1</code>      Since: <code>Jun 2016</code>      Licence: <code>MIT</code></p>
</div>
</div>
<div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#introduction">1. Introduction</a></li>
<li><a href="#setting-up">2. Setting up</a>
<ul class="sectlevel2">
<li><a href="#prerequisites">2.1. Prerequisites</a></li>
<li><a href="#setting-up-the-project-in-your-computer">2.2. Setting up the project in your computer</a></li>
<li><a href="#verifying-the-setup">2.3. Verifying the setup</a></li>
<li><a href="#configurations-to-do-before-writing-code">2.4. Configurations to do before writing code</a></li>
</ul>
</li>
<li><a href="#design">3. Design</a>
<ul class="sectlevel2">
<li><a href="#architecture">3.1. Architecture</a></li>
<li><a href="#events-driven-nature-of-the-design">3.2. Events-Driven nature of the design</a></li>
<li><a href="#components">3.3. Components</a></li>
<li><a href="#common-classes">3.4. Common classes</a></li>
</ul>
</li>
<li><a href="#implementation">4. Implementation</a>
<ul class="sectlevel2">
<li><a href="#filter-mechanism">4.1. Filter mechanism</a></li>
<li><a href="#export-mechanism">4.2. Export mechanism</a></li>
<li><a href="#import-mechanism">4.3. Import mechanism</a></li>
<li><a href="#find-mechanism">4.4. Find mechanism</a></li>
<li><a href="#sorting-mechanism">4.5. Sorting mechanism</a></li>
<li><a href="#undo-redo-mechanism">4.6. Undo/Redo mechanism</a></li>
<li><a href="#display-picture-mechanism">4.7. Display Picture mechanism</a></li>
<li><a href="#location-mechanism">4.8. Location mechanism</a></li>
<li><a href="#email-mechanism">4.9. Email mechanism</a></li>
<li><a href="#frequently-visited-contacts-mechanism">4.10. Frequently Visited Contacts mechanism</a></li>
<li><a href="#details-panel-implementation">4.11. Details Panel Implementation</a></li>
<li><a href="#view-tag-mechanism">4.12. View tag mechanism</a></li>
<li><a href="#toggling-mechanism">4.13. Toggling mechanism</a></li>
<li><a href="#reminder-implementation">4.14. Reminder Implementation</a></li>
<li><a href="#theme-changing-mechanism">4.15. Theme-changing mechanism</a></li>
<li><a href="#logging">4.16. Logging</a></li>
<li><a href="#configuration">4.17. Configuration</a></li>
</ul>
</li>
<li><a href="#documentation">5. Documentation</a>
<ul class="sectlevel2">
<li><a href="#editing-documentation">5.1. Editing Documentation</a></li>
<li><a href="#publishing-documentation">5.2. Publishing Documentation</a></li>
<li><a href="#converting-documentation-to-pdf-format">5.3. Converting Documentation to PDF format</a></li>
</ul>
</li>
<li><a href="#testing">6. Testing</a>
<ul class="sectlevel2">
<li><a href="#running-tests">6.1. Running Tests</a></li>
<li><a href="#types-of-tests">6.2. Types of tests</a></li>
<li><a href="#troubleshooting-testing">6.3. Troubleshooting Testing</a></li>
</ul>
</li>
<li><a href="#dev-ops">7. Dev Ops</a>
<ul class="sectlevel2">
<li><a href="#build-automation">7.1. Build Automation</a></li>
<li><a href="#continuous-integration">7.2. Continuous Integration</a></li>
<li><a href="#making-a-release">7.3. Making a Release</a></li>
<li><a href="#managing-dependencies">7.4. Managing Dependencies</a></li>
</ul>
</li>
<li><a href="#suggested-programming-tasks-to-get-started">Appendix A: Suggested Programming Tasks to Get Started</a>
<ul class="sectlevel2">
<li><a href="#improving-each-component">A.1. Improving each component</a></li>
<li><a href="#creating-a-new-command-code-remark-code">A.2. Creating a new command: <code>remark</code></a></li>
</ul>
</li>
<li><a href="#target-users">Appendix B: Target Users</a></li>
<li><a href="#user-stories">Appendix C: User Stories</a></li>
<li><a href="#use-cases">Appendix D: Use Cases</a></li>
<li><a href="#non-functional-requirements">Appendix E: Non Functional Requirements</a></li>
<li><a href="#glossary">Appendix F: Glossary</a></li>
</ul>
</div>
</div>
<div class="sect1">
<h2 id="introduction"><a class="link" href="#introduction">1. Introduction</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>iContacts is an address book application whose target audience is university students. iContacts aim to help
students manage their contacts effectively and efficiently, as well as providing many other features
such as setting reminders, tagging of contacts, emailing and more.
This guide provides information for those who wish to join our team as either a developer or tester,
and is intended to help you quickly understand the internal design of the application so that you will be able to
understand how this application work. The guide also explains in detail the implementation of noteworthy features,
as well as the testing methods used in developing iContacts.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="setting-up"><a class="link" href="#setting-up">2. Setting up</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section will guide you on how to set up the development environment for coding.</p>
</div>
<div class="sect2">
<h3 id="prerequisites"><a class="link" href="#prerequisites">2.1. Prerequisites</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>JDK <code>1.8.0_60</code></strong> or later</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Having any Java 8 version is not enough.<br>
This app will not work with earlier versions of Java 8.
</td>
</tr>
</table>
</div>
</li>
<li>
<p><strong>IntelliJ</strong> IDE</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
IntelliJ by default has <a href="#gradle">Gradle</a> and <a href="#javafx">JavaFx</a> plugins installed.<br>
Do not disable them. If you have disabled them, go to <code>File</code> &gt; <code>Settings</code> &gt; <code>Plugins</code> to re-enable them.
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="setting-up-the-project-in-your-computer"><a class="link" href="#setting-up-the-project-in-your-computer">2.2. Setting up the project in your computer</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Fork this repo, and clone the fork to your computer.</p>
</li>
<li>
<p>Open IntelliJ (if you are not in the welcome screen, click <code>File</code> &gt; <code>Close Project</code> to close the existing project dialog first).</p>
</li>
<li>
<p>Set up the correct JDK version for Gradle.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Click <code>Configure</code> &gt; <code>Project Defaults</code> &gt; <code>Project Structure</code>.</p>
</li>
<li>
<p>Click <code>New&#8230;&#8203;</code> and find the directory of the JDK.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Click <code>Import Project</code>.</p>
</li>
<li>
<p>Locate the <code>build.gradle</code> file and select it. Click <code>OK</code>.</p>
</li>
<li>
<p>Click <code>Open as Project</code>.</p>
</li>
<li>
<p>Click <code>OK</code> to accept the default settings.</p>
</li>
<li>
<p>Open a console and run the command <code>gradlew processResources</code> (Mac/Linux: <code>./gradlew processResources</code>). It should finish with the <code>BUILD SUCCESSFUL</code> message.<br>
This will generate all the resources required by the application and tests.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="verifying-the-setup"><a class="link" href="#verifying-the-setup">2.3. Verifying the setup</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Run the <code>seedu.address.MainApp</code> and try a few commands.</p>
</li>
<li>
<p><a href="#testing">Run the tests</a> to ensure they all pass.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="configurations-to-do-before-writing-code"><a class="link" href="#configurations-to-do-before-writing-code">2.4. Configurations to do before writing code</a></h3>
<div class="paragraph">
<p>The following configurations need to be done before a developer starts writing the code. This is done to ensure that
the java coding styles and practices are followed.</p>
</div>
<div class="sect3">
<h4 id="configuring-the-coding-style"><a class="link" href="#configuring-the-coding-style">2.4.1. Configuring the coding style</a></h4>
<div class="paragraph">
<p>This project follows <a href="https://github.com/oss-generic/process/blob/master/docs/CodingStandards.md">oss-generic coding standards</a>. IntelliJ&#8217;s default style is mostly compliant with ours but it uses a different import order from ours. Here are the steps to rectify the order:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Go to <code>File</code> &gt; <code>Settings&#8230;&#8203;</code> (Windows/Linux), or <code>IntelliJ IDEA</code> &gt; <code>Preferences&#8230;&#8203;</code> (macOS)</p>
</li>
<li>
<p>Select <code>Editor</code> &gt; <code>Code Style</code> &gt; <code>Java</code></p>
</li>
<li>
<p>Click on the <code>Imports</code> tab to set the order:</p>
<div class="ulist">
<ul>
<li>
<p>For <code>Class count to use import with '*'</code> and <code>Names count to use static import with '*'</code>: Set to <code>999</code> to prevent IntelliJ from contracting the import statements.</p>
</li>
<li>
<p>For <code>Import Layout</code>: The order is <code>import static all other imports</code>, <code>import java.*</code>, <code>import javax.*</code>, <code>import org.*</code>, <code>import com.*</code>, <code>import all other imports</code>. Add a <code>&lt;blank line&gt;</code> between each <code>import</code>.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Optionally, you can follow the <a href="UsingCheckstyle.html">UsingCheckstyle.adoc</a> document to configure Intellij to check style-compliance as you write code.</p>
</div>
</div>
<div class="sect3">
<h4 id="updating-documentation-to-match-your-fork"><a class="link" href="#updating-documentation-to-match-your-fork">2.4.2. Updating documentation to match your fork</a></h4>
<div class="paragraph">
<p>After forking the repo, the links in the documentation will still point to the <code>se-edu/addressbook-level4</code> repo. If you plan to develop this as a separate product (i.e. instead of contributing to the <code>se-edu/addressbook-level4</code>) , you should replace the URL in the variable <code>repoURL</code> in <code>DeveloperGuide.adoc</code> and <code>UserGuide.adoc</code> with the URL of your fork.</p>
</div>
</div>
<div class="sect3">
<h4 id="setting-up-ci"><a class="link" href="#setting-up-ci">2.4.3. Setting up CI</a></h4>
<div class="paragraph">
<p>Set up <a href="#travis">Travis</a> to perform Continuous Integration (CI) for your fork. See <a href="UsingTravis.html">UsingTravis.adoc</a> to learn how to set it up.</p>
</div>
<div class="paragraph">
<p>Optionally, you can set up <a href="#appveyor">AppVeyor</a> as a second CI (see <a href="UsingAppVeyor.html">UsingAppVeyor.adoc</a>).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Having both Travis and AppVeyor ensures your App works on both Unix-based platforms and Windows-based platforms (Travis is Unix-based and AppVeyor is Windows-based)
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="getting-started-with-coding"><a class="link" href="#getting-started-with-coding">2.4.4. Getting started with coding</a></h4>
<div class="paragraph">
<p>When you are ready to start coding, get some sense of the overall design by reading the <a href="#architecture">Architecture</a> section below:</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="design"><a class="link" href="#design">3. Design</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section will explain the design aspects of iContacts.</p>
</div>
<div class="sect2">
<h3 id="architecture"><a class="link" href="#architecture">3.1. Architecture</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/Architecture.png" alt="Architecture" width="600">
</div>
</div>
<div class="paragraph">
<p><em>Figure 1 : Architecture Diagram</em></p>
</div>
<div class="paragraph">
<p>The <strong><em>Architecture Diagram</em></strong> given above (Refer to Figure 1) explains the high-level design of iContacts.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The <code>.pptx</code> files used to create diagrams in this document can be found in the <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/docs/diagrams/">diagrams</a> folder. To update a diagram, modify the diagram in the pptx file, select the objects of the diagram, and choose <code>Save as picture</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Below is a quick overview of each component:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Main</code> has only one class called <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/MainApp.java"><code>MainApp</code></a>, and it does the following:</p>
<div class="ulist">
<ul>
<li>
<p>At app launch: Initializes the components in the correct sequence, and connects them up with each other.</p>
</li>
<li>
<p>At shut down: Shuts down the components and invokes cleanup method where necessary.</p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="#common-classes"><strong><code>Commons</code></strong></a> represents a collection of classes used by multiple other components. Two of those classes play important roles at the architecture level:</p>
<div class="ulist">
<ul>
<li>
<p><code>EventsCenter</code> : This class (written using <a href="https://github.com/google/guava/wiki/EventBusExplained">Google&#8217;s Event Bus library</a>) is used by the components to communicate with other components using events (i.e. a form of <em>Event Driven</em> design).</p>
</li>
<li>
<p><code>LogsCenter</code> : This class is used by many classes to write log messages to iContacts' log file.</p>
</li>
</ul>
</div>
</li>
<li>
<p>The rest of iContacts consists of four components:</p>
<div class="ulist">
<ul>
<li>
<p><a href="#ui-component"><strong><code>UI</code></strong></a> : This is the UI of iContacts.</p>
</li>
<li>
<p><a href="#logic-component"><strong><code>Logic</code></strong></a> : This is the command executor.</p>
</li>
<li>
<p><a href="#model-component"><strong><code>Model</code></strong></a> : This holds the data of the App in-memory.</p>
</li>
<li>
<p><a href="#storage-component"><strong><code>Storage</code></strong></a> : This reads data from, and writes data to, the hard disk.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each of the four components</p>
</div>
<div class="ulist">
<ul>
<li>
<p>defines its <em>API</em> in an <code>interface</code> with the same name as the Component.</p>
</li>
<li>
<p>exposes its functionality using a <code>{Component Name}Manager</code> class.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example, the <code>Logic</code> component (Refer to Figure 2) defines its <em>API</em> in the <code>Logic.java</code> interface and exposes its functionality using the <code>LogicManager.java</code> class.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/LogicClassDiagram.png" alt="LogicClassDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 2 : Class Diagram of the Logic component</em></p>
</div>
</div>
<div class="sect2">
<h3 id="events-driven-nature-of-the-design"><a class="link" href="#events-driven-nature-of-the-design">3.2. Events-Driven nature of the design</a></h3>
<div class="paragraph">
<p>The <em>Sequence Diagram</em> below (Refer to Figure 3) shows how the components interact for the scenario where the user issues the command <code>delete 1</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/SDforDeletePerson.png" alt="SDforDeletePerson" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 3 : Component interactions for <code>delete 1</code> command (Part 1)</em></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Note how the <code>Model</code> simply raises an <code>AddressBookChangedEvent</code> when the address book data are changed, instead of asking the <code>Storage</code> to save the updates to the hard disk.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The diagram below (Refer to Figure 4) shows how the <code>EventsCenter</code> reacts to that event, which eventually results in the updates being saved to the hard disk and the status bar of the UI being updated to reflect the 'Last Updated' time.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/SDforDeletePersonEventHandling.png" alt="SDforDeletePersonEventHandling" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 4 : Component interactions for <code>delete 1</code> command (Part 2)</em></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Note how the event is propagated through the <code>EventsCenter</code> to the <code>Storage</code> and <code>UI</code> without the <code>Model</code> having to be coupled to either of them. This is an example of how this <em>Event-Driven</em> approach helps us reduce direct coupling between components.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="components"><a class="link" href="#components">3.3. Components</a></h3>
<div class="paragraph">
<p>This section explains the <code>UI</code>, <code>Logic</code>, <code>Model</code> and <code>Storage</code> component used in iContacts.</p>
</div>
<div class="sect3">
<h4 id="ui-component"><a class="link" href="#ui-component">3.3.1. UI component</a></h4>
<div class="paragraph">
<p>The <code>UI</code> component provides  the <em>API</em> of Graphical User Interface. The figure below (Refer to Figure 5) shows the structure of the <code>UI</code> component.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UiClassDiagram.png" alt="UiClassDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 5 : Structure of the UI component</em></p>
</div>
<div class="paragraph">
<p><strong><em>API</em></strong> : <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/ui/Ui.java"><code>Ui.java</code></a></p>
</div>
<div class="paragraph">
<p>The <code>UI</code> consists of a <code>MainWindow</code> that is made up of parts e.g.<code>CommandBox</code>, <code>ResultDisplay</code>, <code>PersonListPanel</code>, <code>StatusBarFooter</code>, <code>BrowserPanel</code> etc. All of these, including the <code>MainWindow</code>, inherit from the abstract <code>UiPart</code> class.</p>
</div>
<div class="paragraph">
<p>The <code>UI</code> component uses JavaFx UI framework. The layout of these <code>UI</code> parts is defined in matching <code>.fxml</code> files that are in the <code>src/main/resources/view</code> folder. For example, the layout of the <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/ui/MainWindow.java"><code>MainWindow</code></a> is specified in <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/resources/view/MainWindow.fxml"><code>MainWindow.fxml</code></a>.</p>
</div>
<div class="paragraph">
<p>The <code>UI</code> component</p>
</div>
<div class="ulist">
<ul>
<li>
<p>executes the user commands using the <code>Logic</code> component.</p>
</li>
<li>
<p>binds itself to some data in the <code>Model</code> so that the <code>UI</code> can auto-update when the data in the <code>Model</code> changes.</p>
</li>
<li>
<p>responds to events raised from various parts of iContacts and updates the <code>UI</code> accordingly.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="logic-component"><a class="link" href="#logic-component">3.3.2. Logic component</a></h4>
<div class="paragraph">
<p>The <code>Logic</code> component deals with how each command and its parser would be executed in an event-driven design. The figures below (Refer to Figures 6, 7) shows the structure of the <code>Logic</code> component.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/LogicClassDiagram.png" alt="LogicClassDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 6 : Structure of the Logic component</em></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/LogicCommandClassDiagram.png" alt="LogicCommandClassDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 7 : Structure of Commands in the Logic component. This diagram shows finer details concerning <code>XYZCommand</code> and <code>Command</code> in Figure 6</em></p>
</div>
<div class="paragraph">
<p><strong><em>API</em></strong> :
<a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/logic/Logic.java"><code>Logic.java</code></a></p>
</div>
<div class="paragraph">
<p>The <code>Logic</code> component uses the <code>AddressBookParser</code> class to parse the user command. This results in a <code>Command</code> object which is executed by the <code>LogicManager</code>. The command execution can affect the <code>Model</code> (e.g. adding a person) and/or raise events. The result of the command execution is encapsulated as a <code>CommandResult</code> object which is passed back to the <code>UI</code>.</p>
</div>
<div class="paragraph">
<p>The figure below (Refer to Figure 8) shows the sequence diagram of interactions within the <code>Logic</code> component for the <code>execute("delete 1")</code> <em>API</em> call.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/DeletePersonSdForLogic.png" alt="DeletePersonSdForLogic" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 8 : Interactions inside the Logic component for the <code>delete 1</code> command</em></p>
</div>
</div>
<div class="sect3">
<h4 id="model-component"><a class="link" href="#model-component">3.3.3. Model component</a></h4>
<div class="paragraph">
<p>The <code>Model</code> component handles the contacts in the address book and all its stored details in data structures which provide <em>APIs</em> to create, read, update and delete the contacts. The figure below (Refer to Figure 9) shows the structure of the <code>Model</code> component.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ModelClassDiagram.png" alt="ModelClassDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 9 : Structure of the Model component</em></p>
</div>
<div class="paragraph">
<p><strong><em>API</em></strong> : <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/model/Model.java"><code>Model.java</code></a></p>
</div>
<div class="paragraph">
<p>The <code>Model</code> component</p>
</div>
<div class="ulist">
<ul>
<li>
<p>stores a <code>UserPref</code> object that represents the user&#8217;s preferences.</p>
</li>
<li>
<p>stores the address book data.</p>
</li>
<li>
<p>exposes an unmodifiable <code>ObservableList&lt;ReadOnlyPerson&gt;</code> that can be 'observed' e.g. the <code>UI</code> can be bound to this list so that the <code>UI</code> automatically updates when the data in the list change.</p>
</li>
<li>
<p>does not depend on any of the other three components (<code>UI</code>, <code>Logic</code> and <code>Storage</code>).</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="storage-component"><a class="link" href="#storage-component">3.3.4. Storage component</a></h4>
<div class="paragraph">
<p>The <code>Storage</code> component handles the storage of all data of the address book in the local device. The figure below (Refer to Figure 10) shows the structure of the Storage component.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/StorageClassDiagram.png" alt="StorageClassDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 10 : Structure of the Storage component</em></p>
</div>
<div class="paragraph">
<p><strong><em>API</em></strong> : <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/storage/Storage.java"><code>Storage.java</code></a></p>
</div>
<div class="paragraph">
<p>The <code>Storage</code> component</p>
</div>
<div class="ulist">
<ul>
<li>
<p>can save <code>UserPref</code> objects in json format and read it back.</p>
</li>
<li>
<p>can save the address book data in xml format and read it back.</p>
</li>
<li>
<p>can save the reminder data in xml format and read it back.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="common-classes"><a class="link" href="#common-classes">3.4. Common classes</a></h3>
<div class="paragraph">
<p>Classes used by multiple components are in the <code>seedu.addressbook.commons</code> package.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="implementation"><a class="link" href="#implementation">4. Implementation</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes some noteworthy details on how certain features are implemented, as well as design considerations for some features.</p>
</div>
<div class="sect2">
<h3 id="filter-mechanism"><a class="link" href="#filter-mechanism">4.1. Filter mechanism</a></h3>
<div class="paragraph">
<p>The <code>FilterCommand</code> uses the <code>NameAndTagsContainsKeywordsPredicate</code> to filter the persons with matching name and/or tags. It accepts the <code>List&lt;String&gt; nameKeywords</code> and <code>List&lt;String&gt; tagKeywords</code> as parameters that are parsed by the <code>FilterCommandParser</code>. The code snippet below is the constructor for the class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">NameAndTagsContainsKeywordsPredicate</span> {
    <span class="directive">public</span> NameAndTagsContainsKeywordsPredicate(<span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt; nameKeywords, <span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt; tagKeywords) {
        <span class="local-variable">this</span>.nameKeywords = nameKeywords;
        <span class="local-variable">this</span>.tagKeywords = tagKeywords;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The method <code>test(ReadOnlyPerson person)</code> iterates through the <code>nameKeywords</code> and the <code>tagKeywords</code> to find a match of every <code>person</code> from the address book.</p>
</div>
<div class="paragraph">
<p>Below is an extract of the method <code>test(ReadOnlyPerson person)</code>. The method <code>countTagMatches(person)</code> counts and returns the number of matches between the tags of the <code>person</code> and the tags in the <code>tagKeywords</code>. If the <code>tagsMatchedCount</code> is equal to the size of the <code>tagKeywords</code>, this means all the keywords in the <code>tagKeywords</code> match. The <code>hasTag</code> will then be set to <code>true</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">NameAndTagsContainsKeywordsPredicate</span> {
    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">boolean</span> test(ReadOnlyPerson person) {
        <span class="type">boolean</span> hasTag = <span class="predefined-constant">false</span>;

        <span class="type">int</span> numTagKeywords = tagKeywords.size();
        <span class="type">int</span> tagsMatchedCount = <span class="integer">0</span>;
        <span class="keyword">if</span> (!tagKeywords.isEmpty()) {
            tagsMatchedCount = countTagMatches(person);
        }

        <span class="keyword">if</span> (tagsMatchedCount == numTagKeywords) {
            hasTag = <span class="predefined-constant">true</span>;
        }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Below is an extract of the same method for name. Each keywords in the <code>nameKeywords</code> will be compared against the name list retrieved from the <code>getName()</code> method of the <code>Person</code> class. If all the keywords match, the <code>hasName</code> will be set to <code>true</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">NameAndTagsContainsKeywordsPredicate</span> {
    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">boolean</span> test(ReadOnlyPerson person) {
        <span class="type">boolean</span> hasName = <span class="predefined-constant">false</span>;
            <span class="keyword">if</span> (!nameKeywords.isEmpty()) {
                hasName = nameKeywords.stream().allMatch(nameKeywords -&gt; StringUtil
                .containsWordIgnoreCase(person.getName().fullName, nameKeywords));
        }
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>For the <code>FilterCommand</code> to work properly, either the <code>nameKeywords</code> or the <code>tagKeywords</code> must be non-empty.</p>
</div>
<h4 id="design-considerations" class="discrete">Design Considerations</h4>
<div class="paragraph">
<p><strong>Aspect:</strong> Should similar search commands be separated<br>
<strong>Alternative 1 (current choice):</strong> Create a separate command to search for contacts that match all keywords.<br>
<strong>Pros:</strong> Users will not be confused between the functionality of the <code>find</code> and <code>filter</code> commands.<br>
<strong>Cons:</strong> Users have to remember an additional command.<br>
<strong>Alternative 2:</strong> Modify the <code>FindCommand</code> to allow users the option to search contacts that either match any keywords or match all keywords.<br>
<strong>Pros:</strong> Lesser command for the users to remember when searching for contacts.<br>
<strong>Cons:</strong> Implementation can be more complicated as there is a need to address both <code>OR</code> search and <code>AND</code> search on the same command.</p>
</div>
</div>
<div class="sect2">
<h3 id="export-mechanism"><a class="link" href="#export-mechanism">4.2. Export mechanism</a></h3>
<div class="paragraph">
<p>The <code>ExportCommand</code> uses <code>XmlAddressBookStorage</code> class to generate a xml file based on a given range and saves it to the path provided. It takes in two <code>String</code> values <code>range</code> and <code>path</code>. Below is the constructor for the class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">ExportCommand</span> <span class="directive">extends</span> Command {
    <span class="directive">public</span> ExportCommand(<span class="predefined-type">String</span> range, <span class="predefined-type">String</span> path) {
        requireNonNull(range);
        requireNonNull(path);

        <span class="local-variable">this</span>.range = range;
        <span class="local-variable">this</span>.path = path;
        exportBook = <span class="keyword">new</span> AddressBook();
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The method <code>getRangefromInput()</code> splits the range using a separator and returns a <code>String</code> array for the different values in the range.</p>
</div>
<div class="paragraph">
<p>Below is an extract of the method <code>getRangefromInput()</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">ExportCommand</span> <span class="directive">extends</span> Command {
    <span class="directive">private</span> <span class="predefined-type">String</span><span class="type">[]</span> getRangeFromInput() {
        <span class="directive">private</span> <span class="predefined-type">String</span><span class="type">[]</span> getRangeFromInput() {
            <span class="predefined-type">String</span><span class="type">[]</span> splitStringComma = <span class="local-variable">this</span>.range.split(<span class="string"><span class="delimiter">&quot;</span><span class="content">,</span><span class="delimiter">&quot;</span></span>);

            <span class="keyword">return</span> splitStringComma;
        }
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To determine which contacts should be added to the <code>exportBook</code> we have to check the the user input. There are three cases:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>All (Priority)</p>
<div class="ulist">
<ul>
<li>
<p>if the word <code>all</code> is present in the user input, we will just export all the contacts from the last shown list.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Specific index (e.g. 1, 2, 3)</p>
<div class="ulist">
<ul>
<li>
<p>if the user input contains a specific index, we will add that index (one-based) to the <code>exportBook</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Range of indexes (e.g. 1-5,8-10)</p>
<div class="ulist">
<ul>
<li>
<p>if the user input contains a range which is identified by the <code>-</code> character, we will add that range of index (one-based) to the <code>exportBook</code>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Below is the code snippet to identify the three cases in the user input:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">ExportCommand</span> <span class="directive">extends</span> Command {

    <span class="annotation">@Override</span>
    <span class="directive">public</span> CommandResult execute() <span class="directive">throws</span> CommandException {
        <span class="predefined-type">String</span><span class="type">[]</span> multipleRange = getRangeFromInput();

        <span class="keyword">if</span> (multipleRange[<span class="integer">0</span>].equals(<span class="string"><span class="delimiter">&quot;</span><span class="content">all</span><span class="delimiter">&quot;</span></span>)) {
            exportAll();
        } <span class="keyword">else</span> {
            <span class="keyword">for</span> (<span class="type">int</span> i = <span class="integer">0</span>; i &lt; multipleRange.length; i++) {
                <span class="keyword">if</span> (multipleRange[i].contains(<span class="string"><span class="delimiter">&quot;</span><span class="content">-</span><span class="delimiter">&quot;</span></span>)) {
                    <span class="predefined-type">String</span><span class="type">[]</span> rangeToExport = multipleRange[i].split(<span class="string"><span class="delimiter">&quot;</span><span class="content">-</span><span class="delimiter">&quot;</span></span>);
                    <span class="keyword">try</span> {
                        exportRange(<span class="predefined-type">Integer</span>.parseInt(rangeToExport[<span class="integer">0</span>]), <span class="predefined-type">Integer</span>.parseInt(rangeToExport[<span class="integer">1</span>]));
                    } <span class="keyword">catch</span> (<span class="exception">NumberFormatException</span> e) {
                        <span class="keyword">throw</span> <span class="keyword">new</span> CommandException(MESSAGE_EXPORT_FAIL);
                    }

                } <span class="keyword">else</span> {
                    <span class="keyword">try</span> {
                        exportSpecific(<span class="predefined-type">Integer</span>.parseInt(multipleRange[i]));
                    } <span class="keyword">catch</span> (<span class="exception">NumberFormatException</span> e) {
                        <span class="keyword">throw</span> <span class="keyword">new</span> CommandException(MESSAGE_EXPORT_FAIL);
                    }
                }
            }
        }
        /... storage is resolved here ...
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The final step is to create the xml file from the <code>exportBook</code>.</p>
</div>
<div class="paragraph">
<p>Below is the code snippet to export the data into an xml file using <code>AddressBookStorage</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">ExportCommand</span> <span class="directive">extends</span> Command {
    <span class="annotation">@Override</span>
    <span class="directive">public</span> CommandResult execute() <span class="directive">throws</span> CommandException {

    /... the exporting is resolved here ...

        try {
            AddressBookStorage storage = <span class="keyword">new</span> XmlAddressBookStorage(path + <span class="string"><span class="delimiter">&quot;</span><span class="content">.xml</span><span class="delimiter">&quot;</span></span>);
            storage.saveAddressBook(exportBook);
        } <span class="keyword">catch</span> (<span class="exception">IOException</span> ioe) {
            <span class="keyword">return</span> <span class="keyword">new</span> CommandResult(MESSAGE_EXPORT_FAIL);
        }
        <span class="keyword">return</span> <span class="keyword">new</span> CommandResult(MESSAGE_EXPORT_SUCCESS);
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="import-mechanism"><a class="link" href="#import-mechanism">4.3. Import mechanism</a></h3>
<div class="paragraph">
<p>The <code>ImportCommand</code> uses <code>XmlAddressBookStorage</code> to generate a temporary <code>AddressBook</code> object from a given path. It takes in a <code>String</code> value <code>path</code>. The command then adds the contacts found in the temporary AddressBook object into the main address book object. Below is the constructor for the class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">ImportCommand</span> <span class="directive">extends</span> UndoableCommand {
    <span class="directive">public</span> ImportCommand(<span class="predefined-type">String</span> path) {
        <span class="local-variable">this</span>.path = path;
        <span class="local-variable">this</span>.addressBookStorage = <span class="keyword">new</span> XmlAddressBookStorage(path);
        numSuccess = <span class="integer">0</span>;
        numDuplicates = <span class="integer">0</span>;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>ImportCommand</code> first checks if an AddressBook object can be initialised from the specified path, and if it does it initialises a new <code>Person</code> object and adds it into the main <code>AddressBook</code> object through the <code>model</code>. Below is the code snippet:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">ImportCommand</span> <span class="directive">extends</span> UndoableCommand {

    <span class="annotation">@Override</span>
    <span class="directive">public</span> CommandResult executeUndoableCommand() <span class="directive">throws</span> CommandException {
        <span class="keyword">try</span> {
            <span class="keyword">if</span> (addressBookStorage.readAddressBook().isPresent()) {
                <span class="local-variable">this</span>.addressBook = <span class="keyword">new</span> AddressBook(addressBookStorage.readAddressBook().get());
                <span class="keyword">for</span> (ReadOnlyPerson person : <span class="local-variable">this</span>.addressBook.getPersonList()) {
                    Person personToAdd = <span class="keyword">new</span> Person(person);
                    personToAdd.setPopularityCounter(<span class="keyword">new</span> PopularityCounter());
                    personToAdd.setDisplayPicture(<span class="keyword">new</span> DisplayPicture(<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>));
                    <span class="keyword">try</span> {
                        model.clearSelection();
                        model.showDefaultPanel();
                        model.addPerson(personToAdd);
                        numSuccess++;
                    } <span class="keyword">catch</span> (DuplicatePersonException e) {
                        numDuplicates++;
                    }
                }
            } <span class="keyword">else</span> {
                <span class="keyword">throw</span> <span class="keyword">new</span> CommandException(<span class="predefined-type">String</span>.format(MESSAGE_INVALID_FILE, path));
            }
        } <span class="keyword">catch</span> (DataConversionException | <span class="exception">IOException</span> e) {
            <span class="keyword">throw</span> <span class="keyword">new</span> CommandException(<span class="predefined-type">String</span>.format(MESSAGE_INVALID_FILE, path));
        }

        <span class="keyword">return</span> <span class="keyword">new</span> CommandResult(<span class="predefined-type">String</span>.format(MESSAGE_SUCCESS, numSuccess, numDuplicates));
    }
}</code></pre>
</div>
</div>
<h4 id="design-considerations-2" class="discrete">Design Considerations</h4>
<div class="paragraph">
<p><strong>Aspect:</strong> Should <code>PopularityCounter</code> and <code>DisplayPicture</code> be set to the default value<br>
<strong>Alternative 1 (current choice):</strong> Both <code>PopularityCounter</code> and <code>DisplayPicture</code> should be set to the default value. <br>
<strong>Pros:</strong> Does not affect the contact&#8217;s <code>PopularityCounter</code> and allows the user to set their own preferred <code>DisplayPicture</code> of a contact. <br>
<strong>Cons:</strong> Users will not be able to share <code>DisplayPicture.<br>
<strong>Alternative 2:</strong> Import the contacts with both `PopularityCounter</code> and <code>DisplayPicture</code> unchanged.<br>
<strong>Pros:</strong> <code>DisplayPicture</code> will be imported into iContacts.<br>
<strong>Cons:</strong> The <code>PopularityCounter</code> of the user&#8217;s contacts will be inaccurate.</p>
</div>
</div>
<div class="sect2">
<h3 id="find-mechanism"><a class="link" href="#find-mechanism">4.4. Find mechanism</a></h3>
<div class="paragraph">
<p>The <code>FindCommand</code> uses <code>NameContainsKeywordsPredicate</code> to find contacts with matching names or nicknames. It accepts <code>List&lt;String&gt; nameKeywords</code> as the parameter that is parsed by <code>FindCommandParser</code>. Below is the constructor for the class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> FindCommand(NameContainsKeywordsPredicate predicate) {
        <span class="local-variable">this</span>.predicate = predicate;
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>The method <code>test(ReadOnlyPerson person)</code> iterates through <code>nameKeywords</code> to find a match with the name or nickname of every <code>person</code> from the address book.</p>
</div>
<div class="paragraph">
<p>Below is an extract of the method <code>test(ReadOnlyPerson person</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">   <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">boolean</span> test(ReadOnlyPerson person) {
        <span class="keyword">return</span> keywords.stream()
                .anyMatch(keyword -&gt; StringUtil.containsWordIgnoreCase(person.getName().fullName, keyword))
                || keywords.stream()
                .anyMatch(keyword -&gt; StringUtil.containsWordIgnoreCase(person.getNickname().value, keyword));
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>For the <code>FindCommand</code> to work properly <code>nameKeywords</code> must be non-empty. The code extract below checks for empty inputs:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">    <span class="directive">public</span> FindCommand parse(<span class="predefined-type">String</span> args) <span class="directive">throws</span> <span class="exception">ParseException</span> {
        <span class="predefined-type">String</span> trimmedArgs = args.trim();
        <span class="keyword">if</span> (trimmedArgs.isEmpty()) {
            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="exception">ParseException</span>(
                    <span class="predefined-type">String</span>.format(MESSAGE_INVALID_COMMAND_FORMAT, FindCommand.MESSAGE_USAGE));
        }

        <span class="predefined-type">String</span><span class="type">[]</span> nameKeywords = trimmedArgs.split(<span class="string"><span class="delimiter">&quot;</span><span class="char">\\</span><span class="content">s+</span><span class="delimiter">&quot;</span></span>);

        <span class="keyword">return</span> <span class="keyword">new</span> FindCommand(<span class="keyword">new</span> NameContainsKeywordsPredicate(<span class="predefined-type">Arrays</span>.asList(nameKeywords)));
    }</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sorting-mechanism"><a class="link" href="#sorting-mechanism">4.5. Sorting mechanism</a></h3>
<div class="paragraph">
<p>The <code>SortCommand</code> uses a <code>SortedList</code> that is initialised with the current <code>filteredPerson</code> and is sorted using a comparator. Below is the code snippet:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">sortedfilteredPersons = <span class="keyword">new</span> SortedList&lt;&gt;(filteredPersons);

<span class="annotation">@Override</span>
<span class="directive">public</span> <span class="type">void</span> sortFilteredPersonList() {

    <span class="predefined-type">Comparator</span>&lt;ReadOnlyPerson&gt; sortByName = (o1, o2) -&gt; o1.getName().fullName.compareTo(o2.getName().fullName);
    sortedfilteredPersons.setComparator(sortByName);
    indicateAddressBookChanged();
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="undo-redo-mechanism"><a class="link" href="#undo-redo-mechanism">4.6. Undo/Redo mechanism</a></h3>
<div class="paragraph">
<p>The undo/redo mechanism is facilitated by an <code>UndoRedoStack</code>, which resides inside <code>LogicManager</code>. It supports undoing and redoing of commands that modify the state of the address book (e.g. <code>add</code>, <code>edit</code>). Such commands will inherit from <code>UndoableCommand</code>.</p>
</div>
<div class="paragraph">
<p><code>UndoRedoStack</code> only deals with <code>UndoableCommands</code>. Commands that cannot be undone will inherit from <code>Command</code> instead. The following diagram (Refer to Figure 11) shows the inheritance diagram for commands:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/LogicCommandClassDiagram.png" alt="LogicCommandClassDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 11 : Inheritance diagram for commands</em></p>
</div>
<div class="paragraph">
<p>As you can see from the diagram, <code>UndoableCommand</code> adds an extra layer between the abstract <code>Command</code> class and concrete commands that can be undone, such as the <code>DeleteCommand</code>. Note that extra tasks need to be done when executing a command in an <em>undoable</em> way, such as saving the state of the address book before execution. <code>UndoableCommand</code> contains the high-level algorithm for those extra tasks while the child classes implement the details of how to execute the specific command. Note that this technique of putting the high-level algorithm in the parent class and lower-level steps of the algorithm in child classes is also known as the <a href="https://www.tutorialspoint.com/design_pattern/template_pattern.htm">template pattern</a>.</p>
</div>
<div class="paragraph">
<p>Commands that are not undoable are implemented this way:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">ListCommand</span> <span class="directive">extends</span> Command {
    <span class="annotation">@Override</span>
    <span class="directive">public</span> CommandResult execute() {
        <span class="comment">// ... list logic ...</span>
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>With the extra layer, the commands that are undoable are implemented this way:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">abstract</span> <span class="type">class</span> <span class="class">UndoableCommand</span> <span class="directive">extends</span> Command {
    <span class="annotation">@Override</span>
    <span class="directive">public</span> CommandResult execute() {
        <span class="comment">// ... undo logic ...</span>

        executeUndoableCommand();
    }
}

<span class="directive">public</span> <span class="type">class</span> <span class="class">DeleteCommand</span> <span class="directive">extends</span> UndoableCommand {
    <span class="annotation">@Override</span>
    <span class="directive">public</span> CommandResult executeUndoableCommand() {
        <span class="comment">// ... delete logic ...</span>
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Suppose that the user has just launched the application. The <code>UndoRedoStack</code> will be empty at the beginning.</p>
</div>
<div class="paragraph">
<p>The user executes a new <code>UndoableCommand</code>, <code>delete 5</code>, to delete the 5th person in the address book. The current state of the address book is saved before the <code>delete 5</code> command executes. The <code>delete 5</code> command will then be pushed onto the <code>undoStack</code> (the current state is saved together with the command) (Refer to Figure 12).</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoStartingStackDiagram.png" alt="UndoRedoStartingStackDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 12 : Stack diagram after executing Delete command</em></p>
</div>
<div class="paragraph">
<p>As the user continues to use the program, more commands are added into the <code>undoStack</code>. For example, the user may execute <code>add n/David &#8230;&#8203;</code> to add a new person (Refer to Figure 13).</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoNewCommand1StackDiagram.png" alt="UndoRedoNewCommand1StackDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 13 : Stack diagram after executing Add command</em></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If a command fails its execution, it will not be pushed to the <code>UndoRedoStack</code> at all.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The user now decides that adding the person was a mistake, and decides to undo that action using <code>undo</code>.</p>
</div>
<div class="paragraph">
<p>We will pop the most recent command out of the <code>undoStack</code> and push it back to the <code>redoStack</code>. We will restore the address book to the state before the <code>add</code> command executed (Refer to Figure 14).</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoExecuteUndoStackDiagram.png" alt="UndoRedoExecuteUndoStackDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 14 : Stack diagram after executing Undo command</em></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the <code>undoStack</code> is empty, then there are no other commands left to be undone, and an <code>Exception</code> will be thrown when popping the <code>undoStack</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following sequence diagram (Refer to Figure 15) shows how the undo operation works:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoSequenceDiagram.png" alt="UndoRedoSequenceDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 15 : Sequence diagram of the undo operation</em></p>
</div>
<div class="paragraph">
<p>The redo operation does the exact opposite (pops from <code>redoStack</code>, push to <code>undoStack</code>, and restores the address book to the state after the command is executed).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the <code>redoStack</code> is empty, then there are no other commands left to be redone, and an <code>Exception</code> will be thrown when popping the <code>redoStack</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The user now decides to execute a new command, <code>clear</code>. As before, <code>clear</code> will be pushed into the <code>undoStack</code>. This time the <code>redoStack</code> is no longer empty. It will be purged as it no longer make sense to redo the <code>add n/David</code> command (this is the behavior that most modern desktop applications follow) (Refer to Figure 16).</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoNewCommand2StackDiagram.png" alt="UndoRedoNewCommand2StackDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 16 : Stack diagram after executing Clear command</em></p>
</div>
<div class="paragraph">
<p>Commands that are not undoable are not added into the <code>undoStack</code>. For example, <code>list</code>, which inherits from <code>Command</code> rather than <code>UndoableCommand</code>, will not be added after execution (Refer to Figure 17):</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoNewCommand3StackDiagram.png" alt="UndoRedoNewCommand3StackDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 17 : Stack diagram remains unchanged after executing List command</em></p>
</div>
<div class="paragraph">
<p>The following activity diagram (Refer to Figure 18) summarize what happens inside the <code>UndoRedoStack</code> when a user executes a new command:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoActivityDiagram.png" alt="UndoRedoActivityDiagram" width="200">
</div>
</div>
<div class="paragraph">
<p><em>Figure 18 : Activity diagram for UndoRedoStack</em></p>
</div>
<h4 id="design-considerations-3" class="discrete">Design Considerations</h4>
<div class="paragraph">
<p><strong>Aspect:</strong> Implementation of <code>UndoableCommand</code><br>
<strong>Alternative 1 (current choice):</strong> Add a new abstract method <code>executeUndoableCommand()</code>.<br>
<strong>Pros:</strong> We will not lose any undone/redone functionality as it is now part of the default behaviour. Classes that deal with <code>Command</code> do not have to know that <code>executeUndoableCommand()</code> exist.<br>
<strong>Cons:</strong> Will be hard for new developers to understand the template pattern.<br>
<strong>Alternative 2:</strong> Just override <code>execute()</code>.<br>
<strong>Pros:</strong> It will not involve the template pattern, easier for new developers to understand.<br>
<strong>Cons:</strong> Classes that inherit from <code>UndoableCommand</code> must remember to call <code>super.execute()</code>, or lose the ability to undo/redo.</p>
</div>
<hr>
<div class="paragraph">
<p><strong>Aspect:</strong> How undo &amp; redo executes<br>
<strong>Alternative 1 (current choice):</strong> Save the entire address book.<br>
<strong>Pros:</strong> Will be easy to implement.<br>
<strong>Cons:</strong> May have performance issues in terms of memory usage.<br>
<strong>Alternative 2:</strong> Individual command knows how to undo/redo by itself.<br>
<strong>Pros:</strong> Will use less memory (e.g. for <code>delete</code>, just save the person being deleted).<br>
<strong>Cons:</strong> Care should be taken to ensure that the implementation of each individual command are correct.</p>
</div>
<hr>
<div class="paragraph">
<p><strong>Aspect:</strong> Type of commands that can be undone/redone<br>
<strong>Alternative 1 (current choice):</strong> Only include commands that modifies the address book (<code>add</code>, <code>clear</code>, <code>edit</code>).<br>
<strong>Pros:</strong> We only revert changes that are hard to change back (the view can easily be re-modified as no data are lost).<br>
<strong>Cons:</strong> User might think that undo also applies when the list is modified (undoing filtering for example), only to realize that it does not do that, after executing <code>undo</code>.<br>
<strong>Alternative 2:</strong> Include all commands.<br>
<strong>Pros:</strong> Might be more intuitive for the user.<br>
<strong>Cons:</strong> User have no way of skipping such commands if he or she just want to reset the state of the address book and not the view.<br>
<strong>Additional Info:</strong> See our discussion  <a href="https://github.com/se-edu/addressbook-level4/issues/390#issuecomment-298936672">here</a>.</p>
</div>
<hr>
<div class="paragraph">
<p><strong>Aspect:</strong> Data structure to support the undo/redo commands<br>
<strong>Alternative 1 (current choice):</strong> Use separate stack for undo and redo<br>
<strong>Pros:</strong> Will make it easy to understand for new Computer Science student undergraduates, who are likely to be the new incoming developers of our project.<br>
<strong>Cons:</strong> Logic is duplicated twice. For example, when a new command is executed, we must remember to update both <code>HistoryManager</code> and <code>UndoRedoStack</code>.<br>
<strong>Alternative 2:</strong> Use <code>HistoryManager</code> for undo/redo<br>
<strong>Pros:</strong> Won&#8217;t require the need to maintain a separate stack, and just reuse what is already in the codebase.<br>
<strong>Cons:</strong> It will require dealing with commands that have already been undone: We must remember to skip these commands. Violates Single Responsibility Principle and Separation of Concerns as <code>HistoryManager</code> now needs to do two different things.<br></p>
</div>
</div>
<div class="sect2">
<h3 id="display-picture-mechanism"><a class="link" href="#display-picture-mechanism">4.7. Display Picture mechanism</a></h3>
<div class="paragraph">
<p>The <code>displaypic</code> command adds or updates the display picture for the contact specified. The image is then displayed as <code>ImageView</code> in <code>PersonCard</code> and <code>DetailsPanel</code>.
The arguments of the command are <code>INDEX</code> and <code>PATHOFIMAGE</code>. The image needs to be present in the local device of the user.</p>
</div>
<div class="paragraph">
<p>The Display Picture command is implemented in a way so that the image is read from the user specified path. It is then stored in iContacts directory so that the image is never lost.</p>
</div>
<div class="paragraph">
<p>By executing the given code below, a new folder named 'pictures/' is created if it is missing. The folder is used to store the images.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> createPictureStorageFolder() <span class="directive">throws</span> <span class="exception">IOException</span> {
        requireNonNull(filePath);

        logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Picture folder </span><span class="delimiter">&quot;</span></span>  + filePath + <span class="string"><span class="delimiter">&quot;</span><span class="content"> created if missing</span><span class="delimiter">&quot;</span></span>);
        <span class="predefined-type">File</span> file  = <span class="keyword">new</span> <span class="predefined-type">File</span>(filePath);
        FileUtil.createIfMissing(file);
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Since the command has to read and write an image, the Storage architectural style is used and extended to Display pictures.</p>
</div>
<div class="paragraph">
<p>The following UML diagram shows the Storage Architecture for reading and writing of image file (Refer to Figure 19):</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UMLStorageDisplaypic.PNG" alt="UMLStorageDisplaypic" width="300">
</div>
</div>
<div class="paragraph">
<p><em>Figure 19 : UML Diagram for the extended Storage Component.</em></p>
</div>
<div class="paragraph">
<p>This command works by retrieving the image using <code>BufferedImage</code>. The command extracts the image from the specified absolute path of image e.g. <code>C:\Users\Admin\Desktop\My files\pic.jpg</code></p>
</div>
<div class="paragraph">
<p>It then stores the image in the folder called <code>/pictures/</code> present in the same directory as <code>.jar</code>  by giving it a unique hashcode based on the user&#8217;s email address.
The reading and writing of images is done using the <code>ImageIO</code> class.</p>
</div>
<div class="paragraph">
<p>An event handler is used to notify the <code>UI</code> and <code>Storage</code> component of the changes made in image and its name.</p>
</div>
<div class="paragraph">
<p>The sequence diagram for adding a display picture is shown below (Refer to Figure 20):<br></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/SDforDisplayPicture.PNG" alt="SDforDisplayPicture" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 20 : Sequence Diagram for Display Picture Command.</em></p>
</div>
<div class="paragraph">
<p>The binder for refreshing the image every time the picture is updated is implemented by the following function:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">PersonCard</span> <span class="directive">extends</span> UiPart&lt;<span class="predefined-type">Region</span>&gt; {
    <span class="directive">private</span> <span class="type">void</span> assignImage(ReadOnlyPerson person) {

        <span class="predefined-type">Image</span> image = <span class="keyword">new</span> <span class="predefined-type">Image</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">file:</span><span class="delimiter">&quot;</span></span> + <span class="string"><span class="delimiter">&quot;</span><span class="content">pictures/</span><span class="delimiter">&quot;</span></span> + person.getDisplayPicture().getPath() + <span class="string"><span class="delimiter">&quot;</span><span class="content">.png</span><span class="delimiter">&quot;</span></span>,
                            IMAGE_WIDTH, IMAGE_HEIGHT, <span class="predefined-constant">false</span>, <span class="predefined-constant">false</span>);

        displayPicture.setFill(<span class="keyword">new</span> ImagePattern(image));
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The Display Picture mechanism is done by using <code>ImageView</code>/<code>ImagePattern</code> in JavaFX which is a part of the UI Component.
The <code>Circle</code> shape is used for better UI/UX design and is filled with the <code>ImagePattern</code>.
 The wireframe used to display the image for each person is shown below (Refer to Figure 21):</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/WireFramePersonCard.PNG" alt="WireFramePersonCard" width="300">
</div>
</div>
<div class="paragraph">
<p><em>Figure 21 : Wireframe for the <code>PersonCard</code>.</em></p>
</div>
<div class="paragraph">
<p>The new image stored in directory is given a unique name which is formed using the hash code of the unique email address of each contact.
The following code is used to set the name of image as the hash code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">DisplayPictureCommand</span> <span class="directive">extends</span> Command {

    <span class="annotation">@Override</span>
    <span class="directive">public</span> CommandResult execute() <span class="directive">throws</span> CommandException, <span class="exception">IOException</span> {
        /... executes function of Reading and Writing <span class="predefined-type">Image</span> ...

        displayPicture.setPath(readAndStoreImage.execute(displayPicture.getPath(),
                            personToEdit.getEmail().hashCode())); <span class="comment">// image name formed in this line</span>
    }
}</code></pre>
</div>
</div>
<h4 id="reason-for-this-type-of-implementation" class="discrete">Reason for this type of implementation</h4>
<div class="paragraph">
<p>The command is implemented in this manner because of the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>By specifying the index, there is no ambiguity as to who should be assigned the display picture.</p>
</li>
<li>
<p>The <code>PATHOFIMAGE</code> must be an absolute path on the local device to make sure the image is referenced.</p>
</li>
<li>
<p>The image is stored in directory with a unique name to avoid conflict. The hash code of the user&#8217;s email address is used to maintain uniqueness.</p>
</li>
<li>
<p>The task is done using CLI to follow project requirements.</p>
</li>
<li>
<p>The image is stored in png format to ensure maximum compatibility.</p>
</li>
<li>
<p>In case of image corruption/deletion, care is taken to avoid hanging of UI and display the default image. This is done by checking <code>file.exists()</code>.</p>
</li>
</ul>
</div>
<h4 id="design-considerations-4" class="discrete">Design Considerations</h4>
<div class="paragraph">
<p><strong>Aspect:</strong> At what stage should the image be read and stored<br>
<strong>Alternative 1 (current choice):</strong> Make proper Storage Architecture for reading and writing of Image.  <br>
<strong>Pros:</strong> It will follow the existing Architectural Design and Software Engineering Principles like OCP. <br>
<strong>Cons:</strong> It will take more time and will be tougher to implement.<br>
<strong>Alternative 2:</strong> Invoke 'ReadAndStoreImage' from Logic component.<br>
<strong>Pros:</strong> : It will be easier for new developers to understand the sequence diagram and maintains event-driven nature.<br>
<strong>Cons:</strong> It will cause bad architectural design and will not follow the pre-existing pattern and moreover will defy the Law of Demeter.</p>
</div>
<hr>
<div class="paragraph">
<p><strong>Aspect:</strong> How should the image be taken from user<br>
<strong>Alternative 1 (current choice):</strong> User has to enter the absolute path of image by checking his local device.  <br>
<strong>Pros:</strong> It will be a complete CLI process. <br>
<strong>Cons:</strong> It might be problematic for user to copy and paste and might result in error.<br>
<strong>Alternative 2:</strong> Pop up a <code>FileChooser</code> after the command is entered.<br>
<strong>Pros:</strong> It will be easier for users to mention the correct image quickly.<br>
<strong>Cons:</strong> It will no longer be a complete CLI process.</p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="location-mechanism"><a class="link" href="#location-mechanism">4.8. Location mechanism</a></h3>
<div class="paragraph">
<p>The <code>location</code> command is implemented in the form of an event-driven mechanism .
The diagram below (Refer to Figure 22) shows the sequence diagram for the command execution:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/locationSD.PNG" alt="locationSD" width="790">
</div>
</div>
<div class="paragraph">
<p><em>Figure 22 : Sequence diagram for the Location Command.</em></p>
</div>
<div class="paragraph">
<p>The execution of command raises an event <code>ShowLocationEvent</code>. This causes the <code>BrowserAndReminderPanel</code> to switch to Node <code>Browser</code> irrespective of the current state of the application.
The activity diagram for such case is shown below (Refer to Figure 23):</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/locationAD.PNG" alt="locationAD" width="790">
</div>
</div>
<div class="paragraph">
<p><em>Figure 23 : Sequence diagram for the Location Command.</em></p>
</div>
<div class="paragraph">
<p>The following code below ensures the set up for the GUI:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">private</span> <span class="type">void</span> setUpToShowLocation() {
    <span class="keyword">if</span> (currentlyInFront == Node.REMINDERS) {
        setUpToShowBrowser();
        browser.toFront();
        currentlyInFront = Node.BROWSER;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The URL for denoting the specified person&#8217;s address in Google Maps is set up through the following code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">String</span> loadPersonLocation(<span class="predefined-type">String</span> address) {

        <span class="predefined-type">String</span><span class="type">[]</span> splitAddressByWords = address.split(<span class="string"><span class="delimiter">&quot;</span><span class="char">\\</span><span class="content">s</span><span class="delimiter">&quot;</span></span>);

        <span class="predefined-type">String</span> keywordsOfUrl = <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>;

        <span class="keyword">for</span> (<span class="predefined-type">String</span> word: splitAddressByWords) {
            keywordsOfUrl += word;
            keywordsOfUrl += <span class="string"><span class="delimiter">&quot;</span><span class="content">+</span><span class="delimiter">&quot;</span></span>;
        }

        loadPage(GOOGLE_MAPS_URL + keywordsOfUrl);
}</code></pre>
</div>
</div>
<h4 id="design-consideration" class="discrete">Design Consideration</h4>
<div class="paragraph">
<p><strong>Aspect:</strong> What to use to show the location<br>
<strong>Alternative 1 (current choice):</strong> Show using google maps url in <code>BrowserPanel</code>. <br>
<strong>Pros:</strong> We will be able to get the location easily and accurately.<br>
<strong>Cons:</strong> It could cause problem due to limited functionality of the URL.<br>
<strong>Alternative 2:</strong> Use Google Maps <em>API</em>.<br>
<strong>Pros:</strong>  It will provide more functionality.<br>
<strong>Cons:</strong> It could cause more resources to be used for the exact same feature and wouldn’t utilise pre-existing browser properly.</p>
</div>
</div>
<div class="sect2">
<h3 id="email-mechanism"><a class="link" href="#email-mechanism">4.9. Email mechanism</a></h3>
<div class="paragraph">
<p>The <code>email</code> command has various fields to denote the Recipients (Tag), Subject, Body and Service.</p>
</div>
<div class="paragraph">
<p>The <code>email</code> command allows the users to compose an email in the default browser with data such as recipients, subject and body.</p>
</div>
<div class="paragraph">
<p>The relation between them is shown in the UML diagram below (Refer to Figure 24):</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/emailUML.PNG" alt="emailUML" width="790">
</div>
</div>
<div class="paragraph">
<p><em>Figure 24 : UML Class Diagram for the Email Feature.</em></p>
</div>
<div class="paragraph">
<p>The command is parsed to get the <code>Service</code>, <code>Tag</code>, <code>Subject</code> and <code>Body</code> fields.</p>
</div>
<div class="paragraph">
<p>The parsing takes place in the following manner (Refer to Figure 25):</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ParserSDEmail.PNG" alt="ParserSDEmail" width="790">
</div>
</div>
<div class="paragraph">
<p><em>Figure 25 : Sequence diagram for parsing the Email Command.</em></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The recipients are all contacts belonging to a particular tag.
The only two services offered are <code>gmail</code> and <code>outlook</code> as our target users are students.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The email command happens through an event driven mechanism. The below diagram (Refer to Figure 26) shows sequence diagram for it.
The execution of command raises an event <code>SendingEmailEvent</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/emailSD.PNG" alt="emailSD" width="790">
</div>
</div>
<div class="paragraph">
<p><em>Figure 26 : Sequence diagram for the Email Command.</em></p>
</div>
<div class="paragraph">
<p>The URL for composing the mail is set up through the following code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">String</span> GMAIL_EMAIL_URL =
            <span class="string"><span class="delimiter">&quot;</span><span class="content">https://mail.google.com/mail/?view=cm&amp;fs=1&amp;tf=1&amp;source=mailto&amp;to=%1$s&amp;su=%2$s&amp;body=%3$s</span><span class="delimiter">&quot;</span></span>;

<span class="directive">public</span> <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">String</span> OUTLOOK_EMAIL_URL =
            <span class="string"><span class="delimiter">&quot;</span><span class="content">https://outlook.office.com/?path=/mail/action/compose&amp;to=%1$s&amp;subject=%2$s&amp;body=%3$s</span><span class="delimiter">&quot;</span></span>;

Desktop.getDesktop().browse(<span class="keyword">new</span> <span class="predefined-type">URI</span>(<span class="predefined-type">String</span>.format(GMAIL_EMAIL_URL, recipients, subject, body)));</code></pre>
</div>
</div>
<h4 id="design-consideration-2" class="discrete">Design Consideration</h4>
<div class="paragraph">
<p><strong>Aspect:</strong> Where to compose the mail<br>
<strong>Alternative 1 (current choice):</strong> Opens the default browser of Desktop. <br>
<strong>Pros:</strong> The default browser will have the user logged in to his email account. <br>
<strong>Cons:</strong> High dependency on third party apps.<br>
<strong>Alternative 2:</strong> Open in <code>BrowserPanel</code>.<br>
<strong>Pros:</strong> No dependency on other apps.<br>
<strong>Cons:</strong> It will not auto fill in the text due to older version of browser.</p>
</div>
</div>
<div class="sect2">
<h3 id="frequently-visited-contacts-mechanism"><a class="link" href="#frequently-visited-contacts-mechanism">4.10. Frequently Visited Contacts mechanism</a></h3>
<div class="paragraph">
<p>This feature brings in a new UI element  called <code>PopularContactList</code>, which is a list of maximum size of 5  and each element of showing the name, popularity rank and display picture in a <code>PopularContactCard</code>.
The way these UI elements are added is shown in the following diagram (Refer to Figure 27) :</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/umlfvc.PNG" alt="umlfvc" width="790">
</div>
</div>
<div class="paragraph">
<p><em>Figure 27 : Class Diagram of UI with Popular Contact Panel.</em></p>
</div>
<div class="paragraph">
<p>The mechanism to show the top five most frequently visited contacts is facilitated by the <code>PopularityCounter</code> of each contact.
For every new person added into the address book, he is assigned a popularity counter of <code>0</code>. The top five popular contacts are extracted by sorting the list based on the field <code>PopularityCounter</code> of each person. In the case of two or more people having the same popularity counter, the person who was added earlier into iContacts is given higher priority.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This feature is not implemented as a command.The list gets refreshed whenever the <code>PopularityCounter</code> is supposed to change.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The Frequently Visited Contacts mechanism is an event-driven mechanism. However, there is no explicit command to view the top five frequently visited contacts as they are always refreshed whenever there is an change in the address book. They are always displayed on the UI below the <code>CommandResult</code> panel.
The event to refresh the <code>PopularContactList</code>, <code>PopularContactChangedEvent</code> is triggered whenever any of the command that increases <code>PopularityCounter</code> is executed.</p>
</div>
<div class="paragraph">
<p>The event triggers the following method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> updatePopularContactList() {
        refreshWithPopulatingAddressBook();
        listOfPersonsForPopularContacts.sort((o1, o2) -&gt;
                o2.getPopularityCounter().getCounter() - o1.getPopularityCounter().getCounter());

        getOnlyTopFiveMaximum();
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following are the commands which will increase the <code>PopularityCounter</code> by one for the contacts viewed or searched:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>viewtag</code></p>
</li>
<li>
<p><code>select</code></p>
</li>
<li>
<p><code>details</code> [special case when counter increases by 2 as it is a stronger indicator of who could be a frequently visited contact]</p>
</li>
<li>
<p><code>location</code></p>
</li>
<li>
<p><code>email</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>On execution of any of the following command, an extra event is raised which updates the <code>PopularContactList</code> after updating the popularity counter of the contact.
The sequence diagram for the extra event is shown below for <code>select</code> command (Refer to Figure 28):</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/selectFreuentlyVisited.PNG" alt="selectFreuentlyVisited" width="790">
</div>
</div>
<div class="paragraph">
<p><em>Figure 28 : Sequence diagram for frequently visited mechanism for <code>select</code> command.</em></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Manual selection of person through a click also increases the popularity counter of that person. This is the same action as the <code>details</code> command.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following method is used to increase the <code>PopularityCounter</code> by one:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> ReadOnlyPerson increaseCounterByOne(ReadOnlyPerson person) {
        person.getPopularityCounter().increasePopularityCounter();

        <span class="keyword">return</span> <span class="keyword">new</span> Person(person.getName(), person.getPhone(), person.getEmail(), person.getAddress(),
                person.getBirthday(), person.getNickname(), person.getDisplayPicture(), person.getPopularityCounter(),
                person.getTags());
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>The sequence diagram below shows how the event is triggered and how the saving of updated address book takes place (Refer to Figure 29):</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/frequentlyVisitedSD.PNG" alt="frequentlyVisitedSD" width="790">
</div>
</div>
<div class="paragraph">
<p><em>Figure 29 : Sequence diagram for frequently visited mechanism.</em></p>
</div>
<h4 id="design-considerations-5" class="discrete">Design Considerations</h4>
<div class="paragraph">
<p><strong>Aspect:</strong> How to implement the feature<br>
<strong>Alternative 1 (current choice):</strong> Refresh the list every time one of the command that changes the <code>Popularity</code> is executed  <br>
<strong>Pros:</strong> Becomes a dynamic feature such that user can see favourite contacts at any time<br>
<strong>Cons:</strong> Makes application slightly slower as more execution of code for those commands<br>
<strong>Alternative 2:</strong> Execute command to refresh list of popular contacts<br>
<strong>Pros:</strong> Reduces regular refresh of list<br>
<strong>Cons:</strong> Will have to keep track of command history to see the list of commands executed before previous execution of favourites command</p>
</div>
</div>
<div class="sect2">
<h3 id="details-panel-implementation"><a class="link" href="#details-panel-implementation">4.11. Details Panel Implementation</a></h3>
<div class="paragraph">
<p>The <code>details</code> command shows more details of the contact like address, birthday, email in addition to the details shown in the <code>PersonCard</code> of <code>PersonListPanel</code></p>
</div>
<div class="paragraph">
<p>The <code>DetailsPanel</code> is an Anchor Pane which is embedded inside <code>BrowserAndReminderPanel</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
At any point of time, only one of the three panels (Browser, Reminder, Details) inside <code>BrowserAndReminderPanel</code> will have the visibility set as <code>true</code> and in front of the other two panels.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The UML diagram below represents the UI structure for the <code>BrowserAndReminderPanel</code> (Refer to Figure 30):</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/umlDetails.png" alt="umlDetails" width="790">
</div>
</div>
<div class="paragraph">
<p><em>Figure 30 : UML Diagram for Panel.</em></p>
</div>
<div class="paragraph">
<p>The code to ensure only <code>DetailsPanel</code> is displayed on execution of command is shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">private</span> <span class="type">void</span> setUpToShowDetailsPanel() {
        detailsPanel.setVisible(<span class="predefined-constant">true</span>);
        remindersPanel.setVisible(<span class="predefined-constant">false</span>);
        browser.setVisible(<span class="predefined-constant">false</span>);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>DetailsPanel</code> is also displayed when the user manually clicks on the <code>PersonCard</code>. This is made possible by raising the <code>SelectionChangedEvent</code> to show the <code>DetailsPanel</code>.
The <code>selectionModel()</code> of <code>PersonListView</code> is now linked to the <code>details</code> command rather than the <code>select</code> command.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <code>select</code> command now only scrolls to the INDEX specified whereas <code>details</code> command scrolls to and selects the person to show his/her details in the panel.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The figure below (Refer to figure 31) is the wireframe for the <code>DetailsPanel</code>:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/wireframeDetailsPanel.PNG" alt="wireframeDetailsPanel" width="600">
</div>
</div>
<div class="paragraph">
<p><em>Figure 31 : Wireframe for Details Panel.</em></p>
</div>
<div class="paragraph">
<p>Using the <code>FontAwesomeFx</code> library, an icon is set for each label to make the UI look appealing as seen in the UI above (Refer to figure TBD).</p>
</div>
<div class="paragraph">
<p>The solution to show the same colour for a tag in <code>DetailsPanel</code> and <code>PersonCard</code> was resolved by having a <strong>Singleton Class</strong> <code>TagColor</code>.</p>
</div>
<div class="paragraph">
<p>The following code inside the class ensured that the class acts as an global class and since only one instance is created, it made the tag color&#8217;s constant.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">static</span> TagColor getInstance() {
        <span class="keyword">if</span> (tagColor == <span class="predefined-constant">null</span>) {
            tagColor = <span class="keyword">new</span> TagColor();
        }
        <span class="keyword">return</span> tagColor;
    }</code></pre>
</div>
</div>
<h4 id="design-consideration-3" class="discrete">Design Consideration</h4>
<div class="paragraph">
<p><strong>Aspect:</strong> How to improve UI<br>
<strong>Alternative 1 (current choice):</strong> Show the extra details of contact after they are selected.<br>
<strong>Pros</strong>: Allows more contacts to be shown in the list as the information is reduced.<br>
<strong>Cons</strong>: User needs to manually select the user to see more details of that person.<br>
<strong>Alternative 2:</strong> Show all detail of person in the <code>PersonCard</code>.<br>
<strong>Pros</strong>: Reduces effort of selection of contact to see extra details.<br>
<strong>Cons</strong>: Looks very cluttered and has poor User Interface design.</p>
</div>
</div>
<div class="sect2">
<h3 id="view-tag-mechanism"><a class="link" href="#view-tag-mechanism">4.12. View tag mechanism</a></h3>
<div class="paragraph">
<p>The command is added into the <code>Logic</code> component according to following class diagram (Refer to Figure 32):</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/umlLogic.PNG" alt="umlLogic" width="790">
</div>
</div>
<div class="paragraph">
<p><em>Figure 32 : Class Diagram of Logic.</em></p>
</div>
<div class="paragraph">
<p>The <code>viewtag</code> command works by setting the predicate to the <code>Observable filteredlist</code>.</p>
</div>
<div class="paragraph">
<p>Only one keyword is allowed for the command and it shows all people with the given tag.</p>
</div>
<div class="paragraph">
<p>The method <code>test(ReadOnlyPerson person)</code> iterates through the <code>tagKeywords</code> to find a match of every <code>person</code> from the address book.</p>
</div>
<div class="paragraph">
<p>Streams and lambda (Java 8 features) are used to make the code more readable as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">boolean</span> test(ReadOnlyPerson person) {
        <span class="predefined-type">Set</span>&lt;Tag&gt; tagsOfPerson = person.getTags();

        <span class="keyword">return</span> tagsOfPerson.stream()
                .anyMatch(tagMatches -&gt; tagMatches.getTagName().equalsIgnoreCase(keyword));

    }</code></pre>
</div>
</div>
<h4 id="design-consideration-4" class="discrete">Design Consideration</h4>
<div class="paragraph">
<p><strong>Aspect:</strong> How to filter the list<br>
<strong>Alternative 1 (current choice):</strong> Use of Lambda and Stream. <br>
<strong>Pros:</strong>  The code is more readable.<br>
<strong>Cons:</strong> It sometimes takes more time to process than normal loops.<br>
<strong>Alternative 2:</strong> Loops and Conditions.<br>
<strong>Pros:</strong>  It is known to be faster than Streams at times.<br>
<strong>Cons:</strong> It is harder to avoid arrow-headed violation of coding style.</p>
</div>
</div>
<div class="sect2">
<h3 id="toggling-mechanism"><a class="link" href="#toggling-mechanism">4.13. Toggling mechanism</a></h3>
<div class="paragraph">
<p>The toggling mechanism is an <code>event-driven</code> mechanism.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/togglingMechanism1.png" alt="togglingMechanism1" width=""790">
</div>
</div>
<div class="paragraph">
<p><em>Figure 33 : Component interactions for the toggling mechanism.</em></p>
</div>
<div class="paragraph">
<p>The above diagram (Refer to Figure 33) shows the high-level overview of the component interactions for the toggling mechanism.<br></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/togglingMechanism2.png" alt="togglingMechanism2" width="790">
</div>
</div>
<div class="paragraph">
<p><em>Figure 34 : Sequence diagram for the first part of the toggling mechanism.</em></p>
</div>
<div class="paragraph">
<p>As seen from the sequence diagram above (Refer to Figure 34), when the user types the command for <code>toggle</code>, an instance of <code>ToggleCommand</code> would be created.<br>
Upon execution by <code>LogicManager</code>, the event <code>BrowserAndRemindersPanelToggleEvent</code> would be posted by the <code>EventCenter</code> to the <code>EventBus</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">ToggleCommand</span> <span class="directive">extends</span> Command {
    <span class="annotation">@Override</span>
    <span class="directive">public</span> CommandResult execute() {
        EventsCenter.getInstance().post(<span class="keyword">new</span> BrowserAndRemindersPanelToggleEvent());
        <span class="comment">// ... return some object or null ...</span>
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As seen from the diagram below (Refer to Figure 35), the method <code>handleBrowserToggleEvent()</code> in the <code>BrowserAndRemindersPanel</code> class in the <code>UI</code> component will then listen for the event,
and upon receiving the event it will invoke the method <code>toggleBrowserPanel</code> to trigger the actual toggling.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/togglingMechanism3.png" alt="togglingMechanism3" width="790">
</div>
</div>
<div class="paragraph">
<p><em>Figure 35 : Sequence diagram for the second part of the toggling mechanism.</em></p>
</div>
<div class="paragraph">
<p>The <code>BrowserAndRemindersPanel</code> class has a variable <code>currentlyInFront</code> keeping track of which panel (browser or reminders) is currently being shown.
<code>toggleBrowserPanel</code> would then use the <code>currentlyInFront</code> variable to toggle to and show the correct panel, and then update <code>currentlyInFront</code> appropriately:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">BrowserAndRemindersPanel</span> <span class="directive">extends</span> UIPart&lt;<span class="predefined-type">Region</span>&gt; {
    <span class="annotation">@Subscribe</span>
    <span class="directive">private</span> <span class="type">void</span> handleBrowserPanelToggleEvent(BrowserAndRemindersPanelToggleEvent event) {
        logger.info(LogsCenter.getEventHandlingLogMessage(event));
        toggleBrowserPanel();
    }

    <span class="directive">private</span> <span class="type">void</span> toggleBrowserPanel() {
        <span class="keyword">switch</span>(currentlyInFront) {
        <span class="keyword">case</span> BROWSER:
            setUpToShowRemindersPanel();
            remindersPanel.toFront();
            currentlyInFront = Node.REMINDERS;
            <span class="keyword">break</span>;
        <span class="keyword">case</span> REMINDERS:
            setUpToShowWebBrowser();
            browser.toFront();
            currentlyInFront = Node.BROWSER;
            <span class="keyword">break</span>;


        <span class="comment">//... Other cases ...</span>

        }
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>One important thing to note is that when the <code>select</code> command is executed, the browser panel would be brought forward no matter what:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">BrowserAndRemindersPanel</span> <span class="directive">extends</span> UIPart&lt;<span class="predefined-type">Region</span>&gt; {
    <span class="annotation">@Subscribe</span>
    <span class="directive">private</span> <span class="type">void</span> handleLoadPersonPageEvent(LoadPersonWebpageEvent event) {
        setUpToShowWebBrowser();
        currentlyInFront = Node.BROWSER;
        browser.toFront();
        loadPersonPage(event.getPerson());
    }

    <span class="directive">private</span> <span class="type">void</span> setUpToShowWebBrowser() {
        browser.setVisible(<span class="predefined-constant">true</span>);
        detailsPanel.setVisible(<span class="predefined-constant">false</span>);
        remindersPanel.setVisible(<span class="predefined-constant">false</span>);
     }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>LoadPersonWebpageEvent</code> is posted whenever the <code>select</code> command is executed. Within the <code>handleLoadPersonPageEvent</code>
method, the statement <code>browser.toFront()</code> and the method <code>setUpToShowWebBrowser</code> would then bring the browser panel to the front no matter what, and also make it visible.</p>
</div>
<h4 id="design-considerations-6" class="discrete">Design Considerations</h4>
<div class="paragraph">
<p><strong>Aspect:</strong> Usage of browser area<br>
<strong>Alternative 1 (current choice):</strong> Allow users to toggle between the browser and reminders panel.<br>
<strong>Pros</strong>: Can use the entire space for either the browser or reminders panel.<br>
<strong>Cons</strong>: Users need to manually switch between the browser and reminders panel.<br>
<strong>Alternative 2:</strong> Put reminders and browser panels side-by-side.<br>
<strong>Pros</strong>: Users do not need to manually switch between the browser and reminders panel.<br>
<strong>Cons</strong>: Too little space for browser and reminders, making it difficult to read for the users.</p>
</div>
<div class="paragraph">
<p><strong>Aspect:</strong> Implementation of toggling mechanism.<br>
<strong>Alternative 1 (current choice):</strong> Bring browser and reminders panel to the front as required, on top of setting their visibility suitably.<br>
<strong>Pros</strong>: Users can interact with both browser and reminders (can scroll through reminders etc).<br>
<strong>Cons</strong>: More difficult to implement.<br>
<strong>Alternative 2:</strong> Only set visibility of browser and reminders panel as required (set browser visibility to false to display reminders and vice versa).<br>
<strong>Pros</strong>: Easier to implement.<br>
<strong>Cons</strong>: Users cannot interact with the reminders panel (since the browser is technically still at the front).</p>
</div>
</div>
<div class="sect2">
<h3 id="reminder-implementation"><a class="link" href="#reminder-implementation">4.14. Reminder Implementation</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/ReminderUML1.png" alt="ReminderUML1" width="390">
</div>
</div>
<div class="paragraph">
<p><em>Figure 36: UML class diagram showing the make-up of Reminder objects.</em></p>
</div>
<div class="paragraph">
<p>The <code>Reminder</code> object represents a reminder in iContacts. It contains a <code>String</code> variable <code>reminder</code>, which represents
the actual reminder from the user, and also a <code>Date</code>, <code>Time</code> and <code>Status</code> object, which represents the date, time and <a href="#status">status</a> of the reminder respectively
(Refer to Figure 36). As part of <em>defensive programming</em>, <code>Reminder</code> implements the <code>ReadOnlyReminder</code> interface, which only allows <em>read</em> operations, thus
helping to prevent inappropriate or unintended modifications to <code>Reminder</code> objects (Refer to Figure 36) during the execution of the program.
For example, for <code>DeleteReminderCommand</code>, its <code>execute</code> method should only execute the deletion of a specified reminder, not to alter any reminders.
To ensure that no unintended or inappropriate alteration happens, <code>DeleteReminderCommand</code> is passed a list of <code>ReadOnlyReminder</code> instead of <code>Reminder</code>. This can
be seen from the code snippet below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">DeleteReminderCommand</span> <span class="directive">extends</span> Command {
    <span class="annotation">@Override</span>
    <span class="directive">public</span> CommandResult execute() <span class="directive">throws</span> CommandException {
        <span class="predefined-type">List</span>&lt;ReadOnlyReminder&gt; reminderListing = model.getSortedReminderList();

        <span class="keyword">if</span> (targetIndex.getZeroBased() &gt;= reminderListing.size()) {
            <span class="keyword">throw</span> <span class="keyword">new</span> CommandException(Messages.MESSAGE_INVALID_REMINDER_DISPLAYED_INDEX);
        }

        ReadOnlyReminder reminderToDelete = reminderListing.get(targetIndex.getZeroBased());

        <span class="keyword">try</span> {
            model.deleteReminder(reminderToDelete);
        } <span class="keyword">catch</span> (ReminderNotFoundException rnfe) {
            <span class="keyword">assert</span> <span class="predefined-constant">false</span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">The target reminder cannot be missing</span><span class="delimiter">&quot;</span></span>;
        }

        ... <span class="comment">//return from method ...</span>
    }
}</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ReminderUML2.png" alt="ReminderUML2" width="790">
</div>
</div>
<div class="paragraph">
<p><em>Figure 37: In-memory implementation of Reminder.</em></p>
</div>
<div class="paragraph">
<p>In terms of how <code>Reminder</code> objects are kept in-memory during the execution of the program, <code>Reminder</code> objects are
kept within <code>UniqueReminderList</code> (Refer to Figure 37), which assures that there are no duplicate <code>Reminder</code> objects. The <code>UniqueReminderList</code>
object is then kept and used by <code>ModelManager</code> to carry out commands related to reminders while the program is running.<br></p>
</div>
<div class="paragraph">
<p>Similar to <code>Reminder</code>, as can be seen from Figure 37 above, <code>UniqueReminderList</code> implements the <code>ReadOnlyUniqueReminderList</code> interface to prevent
inappropriate or unintended modifications to <code>UniqueReminderList</code> during the execution of the program.<br></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ReminderUML3.png" alt="ReminderUML3" width="790">
</div>
</div>
<div class="paragraph">
<p><em>Figure 38: How Reminder is stored.</em></p>
</div>
<div class="paragraph">
<p>As seen from Figure 38, <code>Reminder</code> objects are stored in a XML storage file in a JAXB-friendly version <code>XmlAdaptedReminder</code>. Notably, the <code>Status</code> object is not stored along with
the <code>Reminder</code> object; it is instantiated and initialized with an appropriate value during runtime when the <code>Reminder</code> object is instantiated.
When the program starts, <code>XmlAdaptedReminder</code> objects are read in as <code>XmlSerializableReminders</code> via <code>XmlFileStorage</code> and <code>XmlUtil</code>.
This can be seen below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">XmlFileStorage</span> {

    <span class="directive">public</span> <span class="directive">static</span> XmlSerializableReminders loadRemindersFromSaveFile(<span class="predefined-type">File</span> file) <span class="directive">throws</span> DataConversionException, <span class="exception">FileNotFoundException</span> {
        <span class="keyword">try</span>{
            <span class="keyword">return</span> XmlUtil.getDataFromFile(file, XmlSerializableReminders.class);
        } <span class="keyword">catch</span> (JAXBException e) {
            <span class="keyword">throw</span> <span class="keyword">new</span> DataConversionException(e);
        }
    )

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>XmlSerializableReminders</code> object is then passed to <code>UniqueReminderList</code>, which then converts it into a list of <code>Reminder</code> objects for in-memory use.
This can be seen below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">UniqueReminderList</span> <span class="directive">implements</span> <span class="predefined-type">Iterable</span>&lt;Reminder&gt;, ReadOnlyUniqueReminderList {
    <span class="directive">public</span> UniqueReminderList(ReadOnlyUniqueReminderList xmlReminders) {
        requireNonNull(xmlReminders);
        <span class="keyword">try</span> {
            setReminders(xmlReminders.toModelType());
        } <span class="keyword">catch</span> (DuplicateReminderException dre) {
            <span class="keyword">assert</span> <span class="predefined-constant">false</span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">Reminders from storage should not have duplicates</span><span class="delimiter">&quot;</span></span>;
        }
    }

    <span class="directive">public</span> <span class="type">void</span> setReminders(<span class="predefined-type">List</span>&lt;ReadOnlyReminder&gt; reminders) <span class="directive">throws</span> DuplicateReminderException {
        <span class="directive">final</span> UniqueReminderList replacement = <span class="keyword">new</span> UniqueReminderList();
        <span class="keyword">for</span> (<span class="directive">final</span> ReadOnlyReminder reminder : reminders) {
            replacement.add(<span class="keyword">new</span> Reminder(reminder));
        }
        setReminders(replacement);
    }

    <span class="directive">public</span> <span class="type">void</span> setReminders(UniqueReminderList replacement) {
        <span class="local-variable">this</span>.internalList.setAll(replacement.internalList);
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As can be seen from the code snippet above and in Figure 38, as part of <em>defensive programming</em>, <code>XmlSerializableReminders</code> also implements the <code>ReadOnlyUniqueReminderList</code> interface.<br></p>
</div>
<div class="paragraph">
<p>To save, the <code>saveReminders</code> method in <code>StorageManager</code> is invoked:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">void</span> saveReminders(ReadOnlyUniqueReminderList reminderList) <span class="directive">throws</span> <span class="exception">IOException</span> {
        saveReminders(reminderList, remindersStorage.getRemindersFilePath());
    }

    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">void</span> saveReminders(ReadOnlyUniqueReminderList reminderList, <span class="predefined-type">String</span> filePath) <span class="directive">throws</span> <span class="exception">IOException</span> {
        logger.fine(<span class="string"><span class="delimiter">&quot;</span><span class="content">Attempting to write to data file: </span><span class="delimiter">&quot;</span></span> + filePath);
        remindersStorage.saveReminders(reminderList, filePath);
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will then invoke the <code>saveReminders</code> method in <code>XmlRemindersStorage</code>, and go on to invoke the <code>saveRemindersToFile</code> method in <code>XmlFileStorage</code>,
and finally the <code>saveDataToFile</code> method in <code>XmlUtil</code>.</p>
</div>
<div class="paragraph">
<p>The color of the reminder cells are decided and set during the formation of <code>ReminderListViewCell</code>. This can be seen from the
code snippet below:<br></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">BirthdayAndReminderListPanel</span> <span class="directive">extends</span> UiPart&lt;<span class="predefined-type">Region</span>&gt; {

    <span class="type">class</span> <span class="class">ReminderListViewCell</span> <span class="directive">extends</span> ListCell&lt;ReminderCard&gt; {

        <span class="annotation">@Override</span>
        <span class="directive">protected</span> <span class="type">void</span> updateItem(ReminderCard reminder, <span class="type">boolean</span> empty) {
            <span class="local-variable">super</span>.updateItem(reminder, empty);

            <span class="keyword">if</span> (empty || reminder == <span class="predefined-constant">null</span>) {
                setGraphic(<span class="predefined-constant">null</span>);
                setText(<span class="predefined-constant">null</span>);
                <span class="keyword">return</span>;
            }
            <span class="local-variable">this</span>.getStylesheets().clear();
            <span class="keyword">if</span> (reminder.isEventToday()) {
                <span class="local-variable">this</span>.getStylesheets().add(REMINDER_TODAY_STYLE_SHEET);
            } <span class="keyword">else</span> <span class="keyword">if</span> (reminder.isEventWithinThreeDays()) {
                <span class="local-variable">this</span>.getStylesheets().add(REMINDER_THREE_DAYS_STYLE_SHEET);
            } <span class="keyword">else</span> <span class="keyword">if</span> (!reminder.hasEventPassed()) {
                <span class="local-variable">this</span>.getStylesheets().add(REMINDER_NORMAL_STYLE_SHEET);
            }

            setGraphic(reminder.getRoot());
        }
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Depending on the status of the reminder, different styles would be set for the specific <code>ReminderListViewCell</code>.</p>
</div>
<div class="paragraph">
<p>The methods <code>isEventToday</code>, <code>isEventWithinThreeDays</code> and <code>hasEventPassed</code> seen from the code snippet above originate from
the <code>Status</code> object of each <code>Reminder</code> object and propagated from <code>Status</code> to <code>Reminder</code> then finally to <code>ReminderCard</code>.</p>
</div>
<h4 id="design-consideration-5" class="discrete">Design Consideration</h4>
<div class="paragraph">
<p><strong>Aspect:</strong> How to store <code>Reminder</code> in-memory<br>
<strong>Alternative 1 (current choice):</strong> Store <code>Reminder</code> objects in <code>UniqueReminderList</code>, independent of <code>AddressBook</code>.<br>
<strong>Pros</strong>: Follows the <em>Single-Responsibility Principle</em>, because a reminder should not be an address book&#8217;s responsibility.<br>
<strong>Cons</strong>: More changes have to be made to the existing code base, making it tougher to implement.<br>
<strong>Alternative 2:</strong> Store <code>Reminder</code> objects within <code>AddressBook</code>.<br>
<strong>Pros</strong>: Easier to implement as lesser changes have to be made to the existing code base.<br>
<strong>Cons</strong>: Violates the <em>Single-Responsibility Principle</em>.</p>
</div>
<div class="paragraph">
<p><strong>Aspect:</strong> Should the undo/redo mechanism be applied to <code>Reminder</code><br>
<strong>Alternative 1 (current choice):</strong> Commands that affect <code>Reminder</code> objects are not undoable/redoable.<br>
<strong>Pros</strong>: Users would be more aware of any changes they made to a reminder, as they are forced to
use the <code>editreminder</code>, <code>addreminder</code> and <code>deletereminder</code> commands.<br>
<strong>Cons</strong>: It is less user-friendly.<br>
<strong>Alternative 2:</strong> Commands that affect <code>Reminder</code> objects are undoable/redoable.<br>
<strong>Pros</strong>: More user-friendly.<br>
<strong>Cons</strong>: Users might get careless with changing the information of a <code>Reminder</code> object. This might be detrimental
as the date and time fields of a <code>Reminder</code> are very important.</p>
</div>
</div>
<div class="sect2">
<h3 id="theme-changing-mechanism"><a class="link" href="#theme-changing-mechanism">4.15. Theme-changing mechanism</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/themeChangingMechanism1.png" alt="themeChangingMechanism1" width="790">
</div>
</div>
<div class="paragraph">
<p><em>Figure 39 : Component interactions for the theme-changing mechanism</em></p>
</div>
<div class="paragraph">
<p>The theme-changing mechanism is an event-driven mechanism. The above diagram (Refer to Figure 39) shows the high-level overview of the component interactions for the theme-changing mechanism.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/themeChangingMechanism2.png" alt="themeChangingMechanism2" width="790">
</div>
</div>
<div class="paragraph">
<p><em>Figure 40 : Sequence diagram for the first part of the theme-changing mechanism</em></p>
</div>
<div class="paragraph">
<p>As shown from the sequence diagram above (Refer to Figure 40), after the user entered the command <code>theme day</code>, a new object <code>ThemeCommand</code> will be created. The <code>LogicManager</code> will then execute <code>ThemeCommand</code>, and the event <code>ChangeThemeRequestEvent</code> will be posted by <code>EventsCenter</code>. The code snippet below shows the <code>execute()</code> method of <code>ThemeCommand</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>public class ThemeCommand extends Command {
    @Override
    public CommandResult execute() {
        EventsCenter.getInstance().post(new ChangeThemeRequestEvent(theme));
        return new CommandResult(String.format(MESSAGE_SET_THEME_SUCCESS, theme.getTheme()));
    }
}</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/themeChangingMechanism3.png" alt="themeChangingMechanism3" width="790">
</div>
</div>
<div class="paragraph">
<p><em>Figure 41 : Sequence diagram for the second part of the theme-changing mechanism</em></p>
</div>
<div class="paragraph">
<p>As shown from the sequence diagram above (Refer to Figure 41), the method <code>handleChangeThemeEvent()</code> in <code>MainWindow</code> will handle the event and change the theme of the address book through the method <code>changeTheme()</code> accordingly.</p>
</div>
<h4 id="design-considerations-7" class="discrete">Design Considerations</h4>
<div class="paragraph">
<p><strong>Aspect:</strong> Implementation of <code>ThemeCommand</code><br>
<strong>Alternative 1 (current choice):</strong> Utilize <code>ChangeEventRequestEvent</code> that allow <code>MainWindow</code> to handle the event to change the theme.<br>
<strong>Pros:</strong> <code>ThemeCommand</code> can be more efficient since it does not directly change the theme.<br>
<strong>Cons:</strong> New developers may find it difficult to understand the event-driven nature of the application.<br>
<strong>Alternative 2:</strong> Allow <code>ThemeCommand</code> to set the theme directly by allowing it access to <code>MainWindow</code>.<br>
<strong>Pros:</strong> Easier for new developers to understand.<br>
<strong>Cons:</strong> Violates the architectural style as <code>ThemeCommand</code> belongs to the <code>Logic</code> component that should not be able to access the <code>UI</code> component where <code>MainWindow</code> belongs to.</p>
</div>
</div>
<div class="sect2">
<h3 id="logging"><a class="link" href="#logging">4.16. Logging</a></h3>
<div class="paragraph">
<p>We are using <code>java.util.logging</code> package for logging. The <code>LogsCenter</code> class is used to manage the logging levels and logging destinations.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The logging level can be controlled using the <code>logLevel</code> setting in the configuration file (See <a href="#configuration">Configuration</a>).</p>
</li>
<li>
<p>The <code>Logger</code> for a class can be obtained using <code>LogsCenter.getLogger(Class)</code> which will log messages according to the specified logging level.</p>
</li>
<li>
<p>Currently log messages are output through: <code>Console</code> and to a <code>.log</code> file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Logging Levels</strong></p>
</div>
<div class="paragraph">
<p>The list below shows all the available logging levels used:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>SEVERE</code> : Critical problem detected which may possibly cause the termination of the application.</p>
</li>
<li>
<p><code>WARNING</code> : Can continue, but with caution.</p>
</li>
<li>
<p><code>INFO</code> : Information showing the noteworthy actions by the App.</p>
</li>
<li>
<p><code>FINE</code> : Details that is not usually noteworthy but may be useful in debugging e.g. print the actual list instead of just its size.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="configuration"><a class="link" href="#configuration">4.17. Configuration</a></h3>
<div class="paragraph">
<p>Certain properties of the application can be controlled (e.g App name, logging level) through the configuration file (default: <code>config.json</code>).</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="documentation"><a class="link" href="#documentation">5. Documentation</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>We use asciidoc for writing documentation.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
We chose asciidoc over Markdown because asciidoc, although a bit more complex than Markdown, provides more flexibility in formatting.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="editing-documentation"><a class="link" href="#editing-documentation">5.1. Editing Documentation</a></h3>
<div class="paragraph">
<p>See <a href="UsingGradle.html#rendering-asciidoc-files">UsingGradle.adoc</a> to learn how to render <code>.adoc</code> files locally to preview the end result of your edits.
Alternatively, you can download the AsciiDoc plugin for IntelliJ, which allows you to preview the changes you have made to your <code>.adoc</code> files in real-time.</p>
</div>
</div>
<div class="sect2">
<h3 id="publishing-documentation"><a class="link" href="#publishing-documentation">5.2. Publishing Documentation</a></h3>
<div class="paragraph">
<p>See <a href="UsingTravis.html#deploying-github-pages">UsingTravis.adoc</a> to learn how to deploy GitHub Pages using Travis.</p>
</div>
</div>
<div class="sect2">
<h3 id="converting-documentation-to-pdf-format"><a class="link" href="#converting-documentation-to-pdf-format">5.3. Converting Documentation to PDF format</a></h3>
<div class="paragraph">
<p>We use <a href="https://www.google.com/chrome/browser/desktop/">Google Chrome</a> for converting documentation to PDF format, as Chrome&#8217;s PDF engine preserves hyperlinks used in webpages.</p>
</div>
<div class="paragraph">
<p>Here are the steps to convert the project documentation files to PDF format.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Follow the instructions in <a href="UsingGradle.html#rendering-asciidoc-files">UsingGradle.adoc</a> to convert the AsciiDoc files in the <code>docs/</code> directory to HTML format.</p>
</li>
<li>
<p>Go to your generated HTML files in the <code>build/docs</code> folder, right click on them and select <code>Open with</code> &#8594; <code>Google Chrome</code>.</p>
</li>
<li>
<p>Within Chrome, click on the <code>Print</code> option in Chrome&#8217;s menu.</p>
</li>
<li>
<p>Set the destination to <code>Save as PDF</code>, then click <code>Save</code> to save a copy of the file in PDF format. For best results, use the settings indicated in the screenshot below (Refer to Figure 42).</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/chrome_save_as_pdf.png" alt="chrome save as pdf" width="300">
</div>
</div>
<div class="paragraph">
<p><em>Figure 42 : Saving documentation as PDF files in Chrome</em></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing"><a class="link" href="#testing">6. Testing</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="running-tests"><a class="link" href="#running-tests">6.1. Running Tests</a></h3>
<div class="paragraph">
<p>There are three ways to run tests:</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The most reliable way to run tests is the 3rd one. The first two methods might fail some GUI tests due to platform/resolution-specific idiosyncrasies.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Method 1: Using IntelliJ JUnit test runner</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>To run all tests, right-click on the <code>src/test/java</code> folder and choose <code>Run 'All Tests'</code>.</p>
</li>
<li>
<p>To run a subset of tests, you can right-click on a test package, test class, or a test and choose <code>Run 'ABC'</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Method 2: Using Gradle</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Open a console and run the command <code>gradlew clean allTests</code> (Mac/Linux: <code>./gradlew clean allTests</code>).</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
See <a href="UsingGradle.html">UsingGradle.adoc</a> for more info on how to run tests using Gradle.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Method 3: Using Gradle (headless)</strong></p>
</div>
<div class="paragraph">
<p>Thanks to the <a href="https://github.com/TestFX/TestFX">TestFX</a> library we use, our GUI tests can be run in the <em>headless</em> mode. In the headless mode, GUI tests do not show up on the screen. That means the developer can do other things on the Computer while the tests are running.</p>
</div>
<div class="paragraph">
<p>To run tests in headless mode, open a console and run the command <code>gradlew clean headless allTests</code> (Mac/Linux: <code>./gradlew clean headless allTests</code>).</p>
</div>
</div>
<div class="sect2">
<h3 id="types-of-tests"><a class="link" href="#types-of-tests">6.2. Types of tests</a></h3>
<div class="paragraph">
<p>We have two types of tests:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>GUI Tests</strong> - These are tests involving the GUI. They include</p>
<div class="ulist">
<ul>
<li>
<p><em>System Tests</em> that test the entire App by simulating user actions on the GUI. These are in the <code>systemtests</code> package.</p>
</li>
<li>
<p><em>Unit tests</em> that test the individual components. These are in <code>seedu.address.ui</code> package.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Non-GUI Tests</strong> - These are tests not involving the GUI. They include</p>
<div class="ulist">
<ul>
<li>
<p><em>Unit tests</em> targeting the lowest level methods/classes.<br>
e.g. <code>seedu.address.commons.StringUtilTest</code></p>
</li>
<li>
<p><em>Integration tests</em> that are checking the integration of multiple code units (those code units are assumed to be working).<br>
e.g. <code>seedu.address.storage.StorageManagerTest</code></p>
</li>
<li>
<p>Hybrids of unit and integration tests. These tests are checking multiple code units as well as how they are connected together.<br>
e.g. <code>seedu.address.logic.LogicManagerTest</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="troubleshooting-testing"><a class="link" href="#troubleshooting-testing">6.3. Troubleshooting Testing</a></h3>
<div class="paragraph">
<p><strong>Problem: <code>HelpWindowTest</code> fails with a <code>NullPointerException</code>.</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Reason: One of its dependencies, <code>UserGuide.html</code> in <code>src/main/resources/docs</code> is missing.</p>
</li>
<li>
<p>Solution: Execute Gradle task <code>processResources</code>.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="dev-ops"><a class="link" href="#dev-ops">7. Dev Ops</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="build-automation"><a class="link" href="#build-automation">7.1. Build Automation</a></h3>
<div class="paragraph">
<p>See <a href="UsingGradle.html">UsingGradle.adoc</a> to learn how to use Gradle for build automation.</p>
</div>
</div>
<div class="sect2">
<h3 id="continuous-integration"><a class="link" href="#continuous-integration">7.2. Continuous Integration</a></h3>
<div class="paragraph">
<p>We use <a href="https://travis-ci.org/">Travis CI</a> and <a href="https://www.appveyor.com/">AppVeyor</a> to perform <em>Continuous Integration</em> on our projects. See <a href="UsingTravis.html">UsingTravis.adoc</a> and <a href="UsingAppVeyor.html">UsingAppVeyor.adoc</a> for more details.</p>
</div>
</div>
<div class="sect2">
<h3 id="making-a-release"><a class="link" href="#making-a-release">7.3. Making a Release</a></h3>
<div class="paragraph">
<p>Here are the steps to create a new release:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Update the version number in <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/MainApp.java"><code>MainApp.java</code></a>.</p>
</li>
<li>
<p>Generate a JAR file <a href="UsingGradle.html#creating-the-jar-file">using Gradle</a>.</p>
</li>
<li>
<p>Tag the repo with the version number. e.g. <code>v0.1</code></p>
</li>
<li>
<p><a href="https://help.github.com/articles/creating-releases/">Create a new release using GitHub</a> and upload the JAR file you created.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="managing-dependencies"><a class="link" href="#managing-dependencies">7.4. Managing Dependencies</a></h3>
<div class="paragraph">
<p>A project often depends on third-party libraries. For example, iContacts depends on the <a href="http://wiki.fasterxml.com/JacksonHome">Jackson library</a> for XML parsing. Managing these <em>dependencies</em> can be automated using Gradle. For example, Gradle can download the dependencies automatically, which is better than these alternatives:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Include those libraries in the repo (this bloats the repo size).</p>
</li>
<li>
<p>Require developers to download those libraries manually (this creates extra work for developers).</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="suggested-programming-tasks-to-get-started"><a class="link" href="#suggested-programming-tasks-to-get-started">Appendix A: Suggested Programming Tasks to Get Started</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Suggested path for new programmers:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>First, add small local-impact (i.e. the impact of the change does not go beyond the component) enhancements to one component at a time. Some suggestions are given in this section <a href="#improving-each-component">Improving a Component</a>.</p>
</li>
<li>
<p>Next, add a feature that touches multiple components to learn how to implement an end-to-end feature across all components. The section <a href="#creating-a-new-command-code-remark-code">Creating a new command: <code>remark</code></a> explains how to go about adding such a feature.</p>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="improving-each-component"><a class="link" href="#improving-each-component">A.1. Improving each component</a></h3>
<div class="paragraph">
<p>Each individual exercise in this section is component-based (i.e. you would not need to modify the other components to get it to work).</p>
</div>
<h4 id="code-logic-code-component" class="discrete"><code>Logic</code> component</h4>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Do take a look at the <a href="#logic-component">Design: Logic Component</a> section before attempting to modify the <code>Logic</code> component.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add a shorthand equivalent alias for each of the individual commands. For example, besides typing <code>clear</code>, the user can also type <code>c</code> to remove all persons in the list.</p>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Hints</p>
<div class="ulist">
<ul>
<li>
<p>Just like we store each individual command word constant <code>COMMAND_WORD</code> inside <code>*Command.java</code> (e.g.  <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/logic/commands/FindCommand.java"><code>FindCommand#COMMAND_WORD</code></a>, <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/logic/commands/DeleteCommand.java"><code>DeleteCommand#COMMAND_WORD</code></a>), you need a new constant for aliases as well (e.g. <code>FindCommand#COMMAND_ALIAS</code>).</p>
</li>
<li>
<p><a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/logic/parser/AddressBookParser.java"><code>AddressBookParser</code></a> is responsible for analyzing command words.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Solution</p>
<div class="ulist">
<ul>
<li>
<p>Modify the switch statement in <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/logic/parser/AddressBookParser.java"><code>AddressBookParser#parseCommand(String)</code></a> such that both the proper command word and alias can be used to execute the same intended command.</p>
</li>
<li>
<p>See this <a href="https://github.com/se-edu/addressbook-level4/pull/590/files">PR</a> for the full solution.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</li>
</ol>
</div>
<h4 id="code-model-code-component" class="discrete"><code>Model</code> component</h4>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Do take a look at the <a href="#model-component">Design: Model Component</a> section before attempting to modify the <code>Model</code> component.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add a <code>removeTag(Tag)</code> method. The specified tag will be removed from everyone in the address book.</p>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Hints</p>
<div class="ulist">
<ul>
<li>
<p>The <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/model/Model.java"><code>Model</code></a> API needs to be updated.</p>
</li>
<li>
<p>Find out which of the existing API methods in  <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/model/AddressBook.java"><code>AddressBook</code></a> and <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/model/person/Person.java"><code>Person</code></a> classes can be used to implement the tag removal logic. <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/model/AddressBook.java"><code>AddressBook</code></a> allows you to update a person, and <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/model/person/Person.java"><code>Person</code></a> allows you to update the tags.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Solution</p>
<div class="ulist">
<ul>
<li>
<p>Add the implementation of <code>deleteTag(Tag)</code> method in <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/model/ModelManager.java"><code>ModelManager</code></a>. Loop through each person, and remove the <code>tag</code> from each person.</p>
</li>
<li>
<p>See this <a href="https://github.com/se-edu/addressbook-level4/pull/591/files">PR</a> for the full solution.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</li>
</ol>
</div>
<h4 id="code-ui-code-component" class="discrete"><code>Ui</code> component</h4>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Do take a look at the <a href="#ui-component">Design: UI Component</a> section before attempting to modify the <code>UI</code> component.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Use different colors for different tags inside person cards. For example, <code>friends</code> tags can be all in grey, and <code>colleagues</code> tags can be all in red (Refer to Figures 43 and 44).</p>
<div class="paragraph">
<p><strong>Before</strong></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/getting-started-ui-tag-before.png" alt="getting started ui tag before" width="300">
</div>
</div>
<div class="paragraph">
<p><em>Figure 43: Before applying colors to tags.</em></p>
</div>
<div class="paragraph">
<p><strong>After</strong></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/getting-started-ui-tag-after.png" alt="getting started ui tag after" width="300">
</div>
</div>
<div class="paragraph">
<p><em>Figure 44: After applying colors to tags.</em></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Hints</p>
<div class="ulist">
<ul>
<li>
<p>The tag labels are created inside <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/ui/PersonCard.java"><code>PersonCard#initTags(ReadOnlyPerson)</code></a> (<code>new Label(tag.tagName)</code>). <a href="https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/Label.html">JavaFX&#8217;s <code>Label</code> class</a> allows you to modify the style of each Label, such as changing its color.</p>
</li>
<li>
<p>Use the .css attribute <code>-fx-background-color</code> to add a color.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Solution</p>
<div class="ulist">
<ul>
<li>
<p>See this <a href="https://github.com/se-edu/addressbook-level4/pull/592/files">PR</a> for the full solution.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</li>
<li>
<p>Modify <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/commons/events/ui/NewResultAvailableEvent.java"><code>NewResultAvailableEvent</code></a> such that <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/ui/ResultDisplay.java"><code>ResultDisplay</code></a> can show a different style on error (currently it shows the same regardless of errors) (Refer to Figures 45 and 46).</p>
<div class="paragraph">
<p><strong>Before</strong></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/getting-started-ui-result-before.png" alt="getting started ui result before" width="200">
</div>
</div>
<div class="paragraph">
<p><em>Figure 45: Style before modification.</em></p>
</div>
<div class="paragraph">
<p><strong>After</strong></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/getting-started-ui-result-after.png" alt="getting started ui result after" width="200">
</div>
</div>
<div class="paragraph">
<p><em>Figure 46: Style after modification.</em></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Hints</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/commons/events/ui/NewResultAvailableEvent.java"><code>NewResultAvailableEvent</code></a> is raised by <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/ui/CommandBox.java"><code>CommandBox</code></a> which also knows whether the result is a success or failure, and is caught by <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/ui/ResultDisplay.java"><code>ResultDisplay</code></a> which is where we want to change the style to.</p>
</li>
<li>
<p>Refer to <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/ui/CommandBox.java"><code>CommandBox</code></a> for an example on how to display an error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Solution</p>
<div class="ulist">
<ul>
<li>
<p>Modify <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/commons/events/ui/NewResultAvailableEvent.java"><code>NewResultAvailableEvent</code></a> 's constructor so that users of the event can indicate whether an error has occurred.</p>
</li>
<li>
<p>Modify <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/ui/ResultDisplay.java"><code>ResultDisplay#handleNewResultAvailableEvent(event)</code></a> to react to this event appropriately.</p>
</li>
<li>
<p>See this <a href="https://github.com/se-edu/addressbook-level4/pull/593/files">PR</a> for the full solution.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</li>
<li>
<p>Modify the <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/ui/StatusBarFooter.java"><code>StatusBarFooter</code></a> to show the total number of people in the address book (Refer to Figures 47 and 48).</p>
<div class="paragraph">
<p><strong>Before</strong></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/getting-started-ui-status-before.png" alt="getting started ui status before" width="500">
</div>
</div>
<div class="paragraph">
<p><em>Figure 47: No values showed before modification.</em></p>
</div>
<div class="paragraph">
<p><strong>After</strong></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/getting-started-ui-status-after.png" alt="getting started ui status after" width="500">
</div>
</div>
<div class="paragraph">
<p><em>Figure 48: Number of persons showed after modification.</em></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Hints</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/resources/view/StatusBarFooter.fxml"><code>StatusBarFooter.fxml</code></a> will need a new <code>StatusBar</code>. Be sure to set the <code>GridPane.columnIndex</code> properly for each <code>StatusBar</code> to avoid misalignment!</p>
</li>
<li>
<p><a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/ui/StatusBarFooter.java"><code>StatusBarFooter</code></a> needs to initialize the status bar on application start, and to update it accordingly whenever the address book is updated.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Solution</p>
<div class="ulist">
<ul>
<li>
<p>Modify the constructor of <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/ui/StatusBarFooter.java"><code>StatusBarFooter</code></a> to take in the number of persons when the application just started.</p>
</li>
<li>
<p>Use <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/ui/StatusBarFooter.java"><code>StatusBarFooter#handleAddressBookChangedEvent(AddressBookChangedEvent)</code></a> to update the number of persons whenever there are new changes to the addressbook.</p>
</li>
<li>
<p>See this <a href="https://github.com/se-edu/addressbook-level4/pull/596/files">PR</a> for the full solution.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</li>
</ol>
</div>
<h4 id="code-storage-code-component" class="discrete"><code>Storage</code> component</h4>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Do take a look at the <a href="#storage-component">Design: Storage Component</a> section before attempting to modify the <code>Storage</code> component.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add a new method <code>backupAddressBook(ReadOnlyAddressBook)</code>, so that the address book can be saved in a fixed temporary location.</p>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Hint</p>
<div class="ulist">
<ul>
<li>
<p>Add the API method in <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/storage/AddressBookStorage.java"><code>AddressBookStorage</code></a> interface.</p>
</li>
<li>
<p>Implement the logic in <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/storage/StorageManager.java"><code>StorageManager</code></a> class.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Solution</p>
<div class="ulist">
<ul>
<li>
<p>See this <a href="https://github.com/se-edu/addressbook-level4/pull/594/files">PR</a> for the full solution.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="creating-a-new-command-code-remark-code"><a class="link" href="#creating-a-new-command-code-remark-code">A.2. Creating a new command: <code>remark</code></a></h3>
<div class="paragraph">
<p>By creating this command, you will get a chance to learn how to implement a feature end-to-end, touching all major components of the app.</p>
</div>
<div class="sect3">
<h4 id="description"><a class="link" href="#description">A.2.1. Description</a></h4>
<div class="paragraph">
<p>Edits the remark for a person specified in the <code>INDEX</code>.<br>
Format: <code>remark INDEX r/[REMARK]</code></p>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>remark 1 r/Likes to drink coffee.</code><br>
Edits the remark for the first person to <code>Likes to drink coffee.</code></p>
</li>
<li>
<p><code>remark 1 r/</code><br>
Removes the remark for the first person.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="step-by-step-instructions"><a class="link" href="#step-by-step-instructions">A.2.2. Step-by-step Instructions</a></h4>
<div class="sect4">
<h5 id="step-1-logic-teach-the-app-to-accept-remark-which-does-nothing"><a class="link" href="#step-1-logic-teach-the-app-to-accept-remark-which-does-nothing">[Step 1] Logic: Teach the app to accept 'remark' which does nothing</a></h5>
<div class="paragraph">
<p>Let&#8217;s start by teaching the application how to parse a <code>remark</code> command. We will add the logic of <code>remark</code> later.</p>
</div>
<div class="paragraph">
<p><strong>Main:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add a <code>RemarkCommand</code> that extends <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/logic/commands/UndoableCommand.java"><code>UndoableCommand</code></a>. Upon execution, it should just throw an <code>Exception</code>.</p>
</li>
<li>
<p>Modify <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/logic/parser/AddressBookParser.java"><code>AddressBookParser</code></a> to accept a <code>RemarkCommand</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Tests:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add <code>RemarkCommandTest</code> that tests that <code>executeUndoableCommand()</code> throws an Exception.</p>
</li>
<li>
<p>Add new test method to <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/test/java/seedu/address/logic/parser/AddressBookParserTest.java"><code>AddressBookParserTest</code></a>, which tests that typing "remark" returns an instance of <code>RemarkCommand</code>.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="step-2-logic-teach-the-app-to-accept-remark-arguments"><a class="link" href="#step-2-logic-teach-the-app-to-accept-remark-arguments">[Step 2] Logic: Teach the app to accept 'remark' arguments</a></h5>
<div class="paragraph">
<p>Let&#8217;s teach the application to parse arguments that our <code>remark</code> command will accept. E.g. <code>1 r/Likes to drink coffee.</code></p>
</div>
<div class="paragraph">
<p><strong>Main:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Modify <code>RemarkCommand</code> to take in an <code>Index</code> and <code>String</code> and print those two parameters as the error message.</p>
</li>
<li>
<p>Add <code>RemarkCommandParser</code> that knows how to parse two arguments, one index and one with prefix 'r/'.</p>
</li>
<li>
<p>Modify <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/logic/parser/AddressBookParser.java"><code>AddressBookParser</code></a> to use the newly implemented <code>RemarkCommandParser</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Tests:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Modify <code>RemarkCommandTest</code> to test the <code>RemarkCommand#equals()</code> method.</p>
</li>
<li>
<p>Add <code>RemarkCommandParserTest</code> that tests different boundary values
for <code>RemarkCommandParser</code>.</p>
</li>
<li>
<p>Modify <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/test/java/seedu/address/logic/parser/AddressBookParserTest.java"><code>AddressBookParserTest</code></a> to test that the correct command is generated according to the user input.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="step-3-ui-add-a-placeholder-for-remark-in-code-personcard-code"><a class="link" href="#step-3-ui-add-a-placeholder-for-remark-in-code-personcard-code">[Step 3] Ui: Add a placeholder for remark in <code>PersonCard</code></a></h5>
<div class="paragraph">
<p>Let&#8217;s add a placeholder on all our <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/ui/PersonCard.java"><code>PersonCard</code></a> s to display a remark for each person later.</p>
</div>
<div class="paragraph">
<p><strong>Main:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add a <code>Label</code> with any random text inside <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/resources/view/PersonListCard.fxml"><code>PersonListCard.fxml</code></a>.</p>
</li>
<li>
<p>Add FXML annotation in <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/ui/PersonCard.java"><code>PersonCard</code></a> to tie the variable to the actual label.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Tests:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Modify <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/test/java/guitests/guihandles/PersonCardHandle.java"><code>PersonCardHandle</code></a> so that future tests can read the contents of the remark label.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="step-4-model-add-code-remark-code-class"><a class="link" href="#step-4-model-add-code-remark-code-class">[Step 4] Model: Add <code>Remark</code> class</a></h5>
<div class="paragraph">
<p>We have to properly encapsulate the remark in our <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/model/person/ReadOnlyPerson.java"><code>ReadOnlyPerson</code></a> class. Instead of just using a <code>String</code>, let&#8217;s follow the conventional class structure that the codebase already uses by adding a <code>Remark</code> class.</p>
</div>
<div class="paragraph">
<p><strong>Main:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add <code>Remark</code> to model component (you can copy from <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/model/person/Address.java"><code>Address</code></a>, remove the regex and change the names accordingly).</p>
</li>
<li>
<p>Modify <code>RemarkCommand</code> to now take in a <code>Remark</code> instead of a <code>String</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Tests:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add test for <code>Remark</code>, to test the <code>Remark#equals()</code> method.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="step-5-model-modify-code-readonlyperson-code-to-support-a-code-remark-code-field"><a class="link" href="#step-5-model-modify-code-readonlyperson-code-to-support-a-code-remark-code-field">[Step 5] Model: Modify <code>ReadOnlyPerson</code> to support a <code>Remark</code> field</a></h5>
<div class="paragraph">
<p>Now we have the <code>Remark</code> class, we need to actually use it inside <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/model/person/ReadOnlyPerson.java"><code>ReadOnlyPerson</code></a>.</p>
</div>
<div class="paragraph">
<p><strong>Main:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add three methods <code>setRemark(Remark)</code>, <code>getRemark()</code> and <code>remarkProperty()</code>. Be sure to implement these newly created methods in <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/model/person/ReadOnlyPerson.java"><code>Person</code></a>, which implements the <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/model/person/ReadOnlyPerson.java"><code>ReadOnlyPerson</code></a> interface.</p>
</li>
<li>
<p>You may assume that the user will not be able to use the <code>add</code> and <code>edit</code> commands to modify the remarks field (i.e. the person will be created without a remark).</p>
</li>
<li>
<p>Modify <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/model/util/SampleDataUtil.java/"><code>SampleDataUtil</code></a> to add remarks for the sample data (delete your <code>addressBook.xml</code> so that the application will load the sample data when you launch it.)</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="step-6-storage-add-code-remark-code-field-to-code-xmladaptedperson-code-class"><a class="link" href="#step-6-storage-add-code-remark-code-field-to-code-xmladaptedperson-code-class">[Step 6] Storage: Add <code>Remark</code> field to <code>XmlAdaptedPerson</code> class</a></h5>
<div class="paragraph">
<p>We now have <code>Remark</code> s for <code>Person</code> s, but they will be gone when we exit the application. Let&#8217;s modify <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/storage/XmlAdaptedPerson.java"><code>XmlAdaptedPerson</code></a> to include a <code>Remark</code> field so that it will be saved.</p>
</div>
<div class="paragraph">
<p><strong>Main:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add a new Xml field for <code>Remark</code>.</p>
</li>
<li>
<p>Be sure to modify the logic of the constructor and <code>toModelType()</code>, which handles the conversion to/from  <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/model/person/ReadOnlyPerson.java"><code>ReadOnlyPerson</code></a>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Tests:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Fix <code>validAddressBook.xml</code> such that the XML tests will not fail due to a missing <code>&lt;remark&gt;</code> element.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="step-7-ui-connect-code-remark-code-field-to-code-personcard-code"><a class="link" href="#step-7-ui-connect-code-remark-code-field-to-code-personcard-code">[Step 7] Ui: Connect <code>Remark</code> field to <code>PersonCard</code></a></h5>
<div class="paragraph">
<p>Our remark label in <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/ui/PersonCard.java"><code>PersonCard</code></a> is still a placeholder. Let&#8217;s bring it to life by binding it with the actual <code>remark</code> field.</p>
</div>
<div class="paragraph">
<p><strong>Main:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Modify <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/ui/PersonCard.java"><code>PersonCard#bindListeners()</code></a> to add the binding for <code>remark</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Tests:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Modify <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/test/java/seedu/address/ui/testutil/GuiTestAssert.java"><code>GuiTestAssert#assertCardDisplaysPerson(&#8230;&#8203;)</code></a> so that it will compare the remark label.</p>
</li>
<li>
<p>In <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/test/java/seedu/address/ui/PersonCardTest.java"><code>PersonCardTest</code></a>, call <code>personWithTags.setRemark(ALICE.getRemark())</code> to test that changes in the <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/model/person/ReadOnlyPerson.java"><code>Person</code></a> 's remark correctly updates the corresponding <a href="https://github.com/CS2103AUG2017-W14-B1/main/tree/master/src/main/java/seedu/address/ui/PersonCard.java"><code>PersonCard</code></a>.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="step-8-logic-implement-code-remarkcommand-execute-code-logic"><a class="link" href="#step-8-logic-implement-code-remarkcommand-execute-code-logic">[Step 8] Logic: Implement <code>RemarkCommand#execute()</code> logic</a></h5>
<div class="paragraph">
<p>We now have everything set up&#8230;&#8203; but we still can&#8217;t modify the remarks. Let&#8217;s finish it up by adding in actual logic for our <code>remark</code> command.</p>
</div>
<div class="paragraph">
<p><strong>Main:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Replace the logic in <code>RemarkCommand#execute()</code> (that currently just throws an <code>Exception</code>), with the actual logic to modify the remarks of a person.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Tests:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Update <code>RemarkCommandTest</code> to test that the <code>execute()</code> logic works.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect3">
<h4 id="full-solution"><a class="link" href="#full-solution">A.2.3. Full Solution</a></h4>
<div class="paragraph">
<p>See this <a href="https://github.com/se-edu/addressbook-level4/pull/599">PR</a> for the step-by-step solution.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="target-users"><a class="link" href="#target-users">Appendix B: Target Users</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This application is targeted towards University students, aiming to meet their needs throughout their university life, and hopefully beyond. University students meet many people in the university, such as project group members, tutors, lecturers, friends and other connections. Nowadays it is important for students to build connections with other people, as connections may also help students for their future career after graduation. Since the students meet a lot of people, they may not be able to remember all the information about the people they met. Therefore, iContacts aims to help students to store and manage their contacts easily.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>User Profile</p>
<div class="ulist">
<ul>
<li>
<p>University Students</p>
</li>
<li>
<p>Students who are part of many CCA clubs and committees</p>
</li>
<li>
<p>Students taking on the role of Teaching Assistant/Tutor</p>
</li>
<li>
<p>Students who are interning and have colleagues</p>
</li>
<li>
<p>Students who have close friends and family</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="user-stories"><a class="link" href="#user-stories">Appendix C: User Stories</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Priorities: High (must have) - <code>* * *</code>, Medium (nice to have) - <code>* *</code>, Low (unlikely to have) - <code>*</code></p>
</div>
<table class="tableblock frame-all grid-all" style="width: 59%;">
<colgroup>
<col style="width: 22%;">
<col style="width: 23%;">
<col style="width: 25%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Priority</th>
<th class="tableblock halign-left valign-top">As a &#8230;&#8203;</th>
<th class="tableblock halign-left valign-top">I want to &#8230;&#8203;</th>
<th class="tableblock halign-left valign-top">So that I can&#8230;&#8203;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">busy user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">search using accumulative <a href="@attributes">attributes</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">narrow down my search in the shortest time possible</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">careless user that finds it troublesome to follow a particular order of entering <a href="#contact-information">contact information</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">add contact information without following any particular order</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">enter contact information more easily and conveniently</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">forgetful user that can&#8217;t remember all <a href="#tag">tags</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">view a list of existing tags</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">recall and reuse the tags associated with a person</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">organized user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">search for contacts by a given tag</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">get the list of contacts with the same tag</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sociable user that was given contacts by another person</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">import from another source file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">add contacts that were shared with me</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sociable student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">export selected contacts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">share my contacts with friends</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sociable user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">store the person&#8217;s birthday</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">keep track of the person&#8217;s birthday</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sort the list by name alphabetically</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">view contacts in an alphabetical order</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user with limited details of a contact like name and phone number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">add user with just the name and phone number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">store contact information with limited detail</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student with large number of connections</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">identify tags by colors and their alphabetical order</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">easily identify different tags and their alphabetical order in the <a href="#GUI">GUI</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user visiting a friend</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">view a person&#8217;s address location in <a href="#google-map">Google Maps</a> in the GUI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">find directions to his/her place</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">search for contacts with just the first few characters of their name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">find contacts if I&#8217;m unable to remember the spelling of the name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">forgetful user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">add nicknames for people</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">easily search for them</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">new user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">see usage instructions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">refer to instructions when I forget how to use the App</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">add a new person</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">to populate data in the address book</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">delete a person</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">remove entries that I no longer need</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">find a person by name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">locate details of persons without having to go through the entire list</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">forgetful user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">be able to make changes to existing information when I edit a person&#8217;s contact information instead of retyping it</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">refer to what was previously entered under a person&#8217;s contact information and make changes more easily</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">hide <a href="#private-contact-detail">private contact details</a> by default</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">minimize chance of someone else seeing them by accident</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">find my <a href="#frequently-used-contacts">frequently used contacts</a> at the top of the displayed list when I do a search</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">quickly find the contact information I need</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">regular user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">see frequently used contacts instantly</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">locate them more easily</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">be able to add <a href="#display-picture">Display Picture</a> for my contacts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">easily identify them</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student who doesn&#8217;t use his laptop everywhere</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">view my address book online</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">view it without the device running the software</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">member of a team</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">send email to a group of persons with one command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">easily send email to a group of persons</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">include more details for a person&#8217;s contact information</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">store more information about a person to identify him/her more easily</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">delete multiple persons in one command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">remove several persons that I no longer need quickly</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">young student who likes user-friendly applications</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have color-coded commands and contact information in command line</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">identify the command and contact information easily</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lazy user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">auto-completion of commands</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">use the address book more conveniently</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">trendy user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">choose my own theme for the address book</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">customise the address book to my own liking</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">view my recent additions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">identify which person is newly added</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">frequent user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">change the font of the address book</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">protect my eyes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">expert user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">define my own short-hand aliases for commands</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">personalise the address book to suit my needs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lazy user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have short-hand form for each command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">perform commands quickly</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">busy student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">set reminders</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">remind myself of any activities or events that will happen</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">careless student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">save the address book as an external file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">backup or transfer the address book easily</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">add multiple emails and phone numbers to a person</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">handle persons with more than one email and phone numbers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student with many friends</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">get reminder of any approaching birthday</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">prepare for the person&#8217;s birthday</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sort persons by birthday</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">identify the persons who will have a birthday soon</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">careless user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">search a person using similar keywords</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">find contacts if I do not know the correct spelling</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student with many connections</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">add same tag(s) to multiple persons in one command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">tag multiple persons quickly</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">organized student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">auto sort the list whenever I add a person</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">avoid using the sort command with every single additions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">busy student with many commitments</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">be able to create meeting reminders with my <a href="#contacts">contacts</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">prevent myself from forgetting whom should I be meeting at what time</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have a secured address book</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have access to my address book</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="use-cases"><a class="link" href="#use-cases">Appendix D: Use Cases</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>(For all use cases below, the <strong>System</strong> is <code>iContacts</code> and the <strong>Actor</strong> is the <code>user</code>, unless specified otherwise)</p>
</div>
<h3 id="use-case-uc1-delete-person" class="discrete">Use case: UC1 - Delete person</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to list persons</p>
</li>
<li>
<p>iContacts shows a list of persons</p>
</li>
<li>
<p>User requests to delete a specific person in the list</p>
</li>
<li>
<p>iContacts deletes the person</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>2a. The list is empty.</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
<li>
<p>3a. The given index is invalid.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>3a1. iContacts shows an error message.</p>
<div class="paragraph">
<p>Use case resumes at step 2.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<h3 id="use-case-uc2-export-contacts" class="discrete">Use case: UC2 -  Export Contacts</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User selects contacts to be exported based on current list</p>
</li>
<li>
<p>iContacts takes note of the selected contacts and processes them</p>
</li>
<li>
<p>User requests for creating file containing selected contacts</p>
</li>
<li>
<p>iContacts creates file with the <a href="#contact-information">contact information</a> of specified contacts</p>
</li>
<li>
<p>User specifies the location where <a href="#data-file">data file</a> needs to be stored</p>
</li>
<li>
<p>iContacts saves the data file in proper format and indicates success</p>
</li>
<li>
<p>User sends the data file to the required recipient</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>1a. No contacts selected</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
<li>
<p>3a. iContacts unable to create file with mentioned contacts</p>
<div class="ulist none">
<ul class="none">
<li>
<p>3a1. iContacts shows an error message.</p>
<div class="paragraph">
<p>Use case resumes at step 1.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>5a. iContacts unable to store at given location</p>
<div class="ulist">
<ul>
<li>
<p>5a1. iContacts shows an error message.</p>
<div class="paragraph">
<p>Use case ends</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>*a. At any time user chooses to cancel exporting contacts</p>
<div class="ulist none">
<ul class="none">
<li>
<p>*a1. iContacts shows an error message.</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<h3 id="use-case-uc3-import-contacts" class="discrete">Use case: UC3 - Import Contacts</h3>
<div class="paragraph">
<p><strong>Precondition</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>User receives the <a href="#data-file">data file</a> containing contacts</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to import contacts</p>
</li>
<li>
<p>iContacts requests for file location</p>
</li>
<li>
<p>User specifies location where the data file is found</p>
</li>
<li>
<p>iContacts reads the file and merges the contacts from the received data file into the data file that iContacts is currently using</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>3a. No file selected</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
<li>
<p>4a. iContacts finds duplicate contacts</p>
<div class="ulist none">
<ul class="none">
<li>
<p>4a1. iContacts shows an error message and doesn&#8217;t merge the contacts which are duplicate</p>
<div class="paragraph">
<p>Use case resumes at step 1.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>4b. iContacts unable to locate the path of file and open it</p>
<div class="ulist">
<ul>
<li>
<p>4b1. iContacts shows an error message.</p>
<div class="paragraph">
<p>Use case ends</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>*a. At any time user chooses to cancel importing contacts</p>
<div class="ulist none">
<ul class="none">
<li>
<p>*a1. iContacts shows an error message.</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<h3 id="use-case-uc4-sharing-contacts" class="discrete">Use case: UC4 - Sharing Contacts</h3>
<div class="paragraph">
<p><strong>Guarantees</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>The sharing is completed with recipient successfully being able to get the shared contacts</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Sending User <u>Exports Contacts (UC2)</u></p>
</li>
<li>
<p>Receiving User <u>Imports Contacts (UC3)</u></p>
</li>
<li>
<p>Receiving User views the list of new contacts</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<h3 id="use-case-uc5-list-contacts-after-applying-filtered-search" class="discrete">Use case: UC5 - List contacts after applying filtered search</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User specifies the keywords for different <a href="#attributes">attributes</a> and requests the list</p>
</li>
<li>
<p>iContacts finds list of all people satisfying all attributes and displays them in a list</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>2a. The list is empty</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ul>
</div>
<h3 id="use-case-uc6-get-directions-to-a-contact-s-address" class="discrete">Use case: UC6 - Get directions to a contact&#8217;s address</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests for the list of contacts</p>
</li>
<li>
<p>iContacts displays list of all such contacts</p>
</li>
<li>
<p>User requests for directions to a contact&#8217;s address</p>
</li>
<li>
<p>iContacts shows directions from current location to contact&#8217;s address in Google Maps using <a href="#GUI">GUI</a></p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>2a. The list is empty</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
<li>
<p>3a. The given index is invalid.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>3a1. iContacts shows an error message.</p>
<div class="paragraph">
<p>Use case resumes at step 2.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>4a. Google Maps unable to find location of direction to address</p>
<div class="ulist none">
<ul class="none">
<li>
<p>4a1. iContacts shows an error message through GUI</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="non-functional-requirements"><a class="link" href="#non-functional-requirements">Appendix E: Non Functional Requirements</a></h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Should work on any <a href="#mainstream-os">mainstream OS</a> as long as it has Java <code>1.8.0_60</code> or higher installed.</p>
</li>
<li>
<p>Should be able to hold up to 1000 persons without a noticeable sluggishness in performance for typical usage.</p>
</li>
<li>
<p>A user with above average typing speed for regular English text (i.e. not code, not system admin commands) should be able to accomplish most of the tasks faster using commands than using the mouse.</p>
</li>
<li>
<p>A new user to a <a href="#CLI">CLI</a> environment and/or address book application should be able to learn how to start and use the application within 20 minutes with the help of the User Guide.</p>
</li>
<li>
<p>Should be responsive and commands are executed within 2 seconds under normal load (1000 persons or less)</p>
</li>
<li>
<p>Essential services (adding, deleting contacts etc) should still work perfectly without Internet access.</p>
</li>
<li>
<p>The GUI should follow the <a href="#java-look-and-feel">The Java Look and Feel</a> guidelines.</p>
</li>
<li>
<p>Should not consume more than 10% of the modern computers/laptop&#8217;s CPU&#8217;s processing time/power.</p>
</li>
<li>
<p>Should take up as little memory on the hard disk/permanent memory as possible, less than 100 MB.</p>
</li>
<li>
<p>Should be free to download and use.</p>
</li>
<li>
<p>Should work on 32-bit and 64-bit environments.</p>
</li>
<li>
<p>Should not display content not associated with the operations of the address book.</p>
</li>
<li>
<p>User Guide and Developer Guide should be well-documented.</p>
</li>
<li>
<p>Should be backwards compatible with storage files from prior versions.</p>
</li>
<li>
<p>Should be compatible with storage files from the same application but from different computers.</p>
</li>
<li>
<p>Should minimize dependencies on third-party software.</p>
</li>
<li>
<p>Project should not costs more than S$10,000.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="glossary"><a class="link" href="#glossary">Appendix F: Glossary</a></h2>
<div class="sectionbody">
<div id="mainstream-os" class="paragraph">
<p>Mainstream OS</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Windows, Linux, Unix, OS-X</pre>
</div>
</div>
<div id="private-contact-detail" class="paragraph">
<p>Private contact detail</p>
</div>
<div class="literalblock">
<div class="content">
<pre>A contact detail that is not meant to be shared with others</pre>
</div>
</div>
<div id="contact-information" class="paragraph">
<p>Contact information of a person</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Contact information of a person, including his/her name, phone, email, address and (optional) tags related to that person.</pre>
</div>
</div>
<div id="attributes" class="paragraph">
<p>Attributes</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Name and tags of a person</pre>
</div>
</div>
<div id="frequently-used-contacts" class="paragraph">
<p>Frequently Used Contacts</p>
</div>
<div class="literalblock">
<div class="content">
<pre>The contact information of persons that are frequently viewed or selected.</pre>
</div>
</div>
<div id="tag" class="paragraph">
<p>Tag</p>
</div>
<div class="literalblock">
<div class="content">
<pre>A label attached to a person's contact information for the purpose of identification, grouping, and to give more information about that person.</pre>
</div>
</div>
<div id="CLI" class="paragraph">
<p>Command Line Interface</p>
</div>
<div class="literalblock">
<div class="content">
<pre>A user interface to an application in which the users responds to a prompt by typing in a command on a specified line</pre>
</div>
</div>
<div id="GUI" class="paragraph">
<p>Graphical User Interface</p>
</div>
<div class="literalblock">
<div class="content">
<pre>A user interface to an application in which the users interact with the application through graphical icons and visual indicators</pre>
</div>
</div>
<div id="java-look-and-feel" class="paragraph">
<p>The Java Look and Feel</p>
</div>
<div class="literalblock">
<div class="content">
<pre>It specifies the Java user interface components across a broad spectrum of Java based frameworks.</pre>
</div>
</div>
<div id="data-file" class="paragraph">
<p>Data File</p>
</div>
<div class="literalblock">
<div class="content">
<pre>The XML file that stores the contact information of address book. This is also the file that iContacts reads from when starting up. There can be multiple data files at any one time.</pre>
</div>
</div>
<div id="contacts" class="paragraph">
<p>Contacts</p>
</div>
<div class="literalblock">
<div class="content">
<pre>The people whose details are present in my address book.</pre>
</div>
</div>
<div id="display-picture" class="paragraph">
<p>Display Picture</p>
</div>
<div class="literalblock">
<div class="content">
<pre>A photo of the person represented by this contact entry</pre>
</div>
</div>
<div id="google-map" class="paragraph">
<p>Google Maps</p>
</div>
<div class="literalblock">
<div class="content">
<pre>A web mapping service procided by Google that offers satellite imagery, street maps, route planning, real-time traffic conditions and other features.</pre>
</div>
</div>
<div id="gradle" class="paragraph">
<p>Gradle</p>
</div>
<div class="literalblock">
<div class="content">
<pre>An open-source build automation system that also serve as a dependency management tool.</pre>
</div>
</div>
<div id="javafx" class="paragraph">
<p>JavaFX</p>
</div>
<div class="literalblock">
<div class="content">
<pre>A software platform that contains a set of graphics and packages that enables developers to develop rich applications that can run across a wide variety of devices and platforms.</pre>
</div>
</div>
<div id="travis" class="paragraph">
<p>Travis</p>
</div>
<div class="literalblock">
<div class="content">
<pre>A hosted, distributed continuous integration service used to build and test software projects hosted at GitHub on a Linux virtual machine.</pre>
</div>
</div>
<div id="appveyor" class="paragraph">
<p>AppVeyor</p>
</div>
<div class="literalblock">
<div class="content">
<pre>A hosted, distributed integration service used to build and test software projects hosted at GitHub on a Microsoft Windows virtual machine.</pre>
</div>
</div>
<div id="status" class="paragraph">
<p>Status</p>
</div>
<div class="literalblock">
<div class="content">
<pre>A description of the current state of the event, whether it has already passed, is happening now, is happening within three days or not happening anytime soon.</pre>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2017-11-13 10:07:35 +00:00
</div>
</div>
</body>
</html>